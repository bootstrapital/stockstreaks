import{s as z,a as S,e as g,b as C,c as F,h as J,d as T,f as u,i as d,j as y,k as I,D as W,l as N,m as Z,o as j,p as $,q as x,n as L,t as V,r as q,u as X,E as tt}from"../chunks/scheduler.v_cXcvRN.js";import{S as et,i as it,t as R,a as D,c as rt,b as lt,d as ot,m as st,e as nt,g as at}from"../chunks/index.CQNOboDd.js";import{e as H}from"../chunks/VennDiagram.svelte_svelte_type_style_lang.CnDw0Qpd.js";import{w as ct}from"../chunks/entry.D8VbBJlK.js";import{s as ut,Q as A,p as mt,r as O,t as U}from"../chunks/index.tLmM6Yru.js";import{h as B}from"../chunks/setTrackProxy.Cl20Y9Hv.js";import{I as ft,C as _t}from"../chunks/globalContexts.1hDlTDmj.js";import{p as pt}from"../chunks/stores.Bg6rV5QG.js";import{Q as dt}from"../chunks/QueryViewer.BmDBFor9.js";import{p as ht}from"../chunks/profile.BW8tN6E9.js";function G(c,e,l){const t=c.slice();return t[20]=e[l],t}function kt(c){let e,l=a.title+"",t;return{c(){e=g("h1"),t=V(l),this.h()},l(r){e=T(r,"H1",{class:!0});var n=q(e);t=X(n,l),n.forEach(u),this.h()},h(){d(e,"class","title")},m(r,n){y(r,e,n),I(e,t)},p:L,d(r){r&&u(e)}}}function yt(c){return{c(){this.h()},l(e){this.h()},h(){document.title="Evidence"},m:L,p:L,d:L}}function bt(c){let e,l,t,r,n;return document.title=e=a.title,{c(){l=S(),t=g("meta"),r=S(),n=g("meta"),this.h()},l(i){l=F(i),t=T(i,"META",{property:!0,content:!0}),r=F(i),n=T(i,"META",{name:!0,content:!0}),this.h()},h(){var i,o;d(t,"property","og:title"),d(t,"content",((i=a.og)==null?void 0:i.title)??a.title),d(n,"name","twitter:title"),d(n,"content",((o=a.og)==null?void 0:o.title)??a.title)},m(i,o){y(i,l,o),y(i,t,o),y(i,r,o),y(i,n,o)},p(i,o){o&0&&e!==(e=a.title)&&(document.title=e)},d(i){i&&(u(l),u(t),u(r),u(n))}}}function Et(c){var n,i;let e,l,t=(a.description||((n=a.og)==null?void 0:n.description))&&gt(),r=((i=a.og)==null?void 0:i.image)&&Tt();return{c(){t&&t.c(),e=S(),r&&r.c(),l=C()},l(o){t&&t.l(o),e=F(o),r&&r.l(o),l=C()},m(o,m){t&&t.m(o,m),y(o,e,m),r&&r.m(o,m),y(o,l,m)},p(o,m){var _,Q;(a.description||(_=a.og)!=null&&_.description)&&t.p(o,m),(Q=a.og)!=null&&Q.image&&r.p(o,m)},d(o){o&&(u(e),u(l)),t&&t.d(o),r&&r.d(o)}}}function gt(c){let e,l,t,r,n;return{c(){e=g("meta"),l=S(),t=g("meta"),r=S(),n=g("meta"),this.h()},l(i){e=T(i,"META",{name:!0,content:!0}),l=F(i),t=T(i,"META",{property:!0,content:!0}),r=F(i),n=T(i,"META",{name:!0,content:!0}),this.h()},h(){var i,o,m;d(e,"name","description"),d(e,"content",a.description??((i=a.og)==null?void 0:i.description)),d(t,"property","og:description"),d(t,"content",((o=a.og)==null?void 0:o.description)??a.description),d(n,"name","twitter:description"),d(n,"content",((m=a.og)==null?void 0:m.description)??a.description)},m(i,o){y(i,e,o),y(i,l,o),y(i,t,o),y(i,r,o),y(i,n,o)},p:L,d(i){i&&(u(e),u(l),u(t),u(r),u(n))}}}function Tt(c){let e,l,t;return{c(){e=g("meta"),l=S(),t=g("meta"),this.h()},l(r){e=T(r,"META",{property:!0,content:!0}),l=F(r),t=T(r,"META",{name:!0,content:!0}),this.h()},h(){var r,n;d(e,"property","og:image"),d(e,"content",(r=a.og)==null?void 0:r.image),d(t,"name","twitter:image"),d(t,"content",(n=a.og)==null?void 0:n.image)},m(r,n){y(r,e,n),y(r,l,n),y(r,t,n)},p:L,d(r){r&&(u(e),u(l),u(t))}}}function K(c){let e,l;return e=new dt({props:{queryID:"ticker_list",queryResult:c[0]}}),{c(){lt(e.$$.fragment)},l(t){ot(e.$$.fragment,t)},m(t,r){st(e,t,r),l=!0},p(t,r){const n={};r&1&&(n.queryResult=t[0]),e.$set(n)},i(t){l||(R(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){nt(e,t)}}}function P(c){let e,l,t,r=c[20].symbol+"",n,i,o;return{c(){e=g("ul"),l=g("li"),t=g("a"),n=V(r),o=S(),this.h()},l(m){e=T(m,"UL",{class:!0});var _=q(e);l=T(_,"LI",{class:!0});var Q=q(l);t=T(Q,"A",{href:!0,class:!0});var M=q(t);n=X(M,r),M.forEach(u),Q.forEach(u),o=F(_),_.forEach(u),this.h()},h(){d(t,"href",i="/tickers/"+c[20].symbol),d(t,"class","markdown"),d(l,"class","markdown"),d(e,"class","markdown")},m(m,_){y(m,e,_),I(e,l),I(l,t),I(t,n),I(e,o)},p(m,_){_&1&&r!==(r=m[20].symbol+"")&&tt(n,r),_&1&&i!==(i="/tickers/"+m[20].symbol)&&d(t,"href",i)},d(m){m&&u(e)}}}function vt(c){let e,l,t,r,n,i,o,m,_=typeof a<"u"&&a.title&&a.hide_title!==!0&&kt();function Q(s,f){return typeof a<"u"&&a.title?bt:yt}let v=Q()(c),E=typeof a=="object"&&Et(),h=c[0]&&K(c),w=H(c[0]),k=[];for(let s=0;s<w.length;s+=1)k[s]=P(G(c,w,s));return{c(){_&&_.c(),e=S(),v.c(),l=g("meta"),t=g("meta"),E&&E.c(),r=C(),n=S(),h&&h.c(),i=S();for(let s=0;s<k.length;s+=1)k[s].c();o=C(),this.h()},l(s){_&&_.l(s),e=F(s);const f=J("svelte-1j2izld",document.head);v.l(f),l=T(f,"META",{name:!0,content:!0}),t=T(f,"META",{name:!0,content:!0}),E&&E.l(f),r=C(),f.forEach(u),n=F(s),h&&h.l(s),i=F(s);for(let p=0;p<k.length;p+=1)k[p].l(s);o=C(),this.h()},h(){d(l,"name","twitter:card"),d(l,"content","summary"),d(t,"name","twitter:site"),d(t,"content","@evidence_dev")},m(s,f){_&&_.m(s,f),y(s,e,f),v.m(document.head,null),I(document.head,l),I(document.head,t),E&&E.m(document.head,null),I(document.head,r),y(s,n,f),h&&h.m(s,f),y(s,i,f);for(let p=0;p<k.length;p+=1)k[p]&&k[p].m(s,f);y(s,o,f),m=!0},p(s,[f]){if(typeof a<"u"&&a.title&&a.hide_title!==!0&&_.p(s,f),v.p(s,f),typeof a=="object"&&E.p(s,f),s[0]?h?(h.p(s,f),f&1&&R(h,1)):(h=K(s),h.c(),R(h,1),h.m(i.parentNode,i)):h&&(at(),D(h,1,1,()=>{h=null}),rt()),f&1){w=H(s[0]);let p;for(p=0;p<w.length;p+=1){const b=G(s,w,p);k[p]?k[p].p(b,f):(k[p]=P(b),k[p].c(),k[p].m(o.parentNode,o))}for(;p<k.length;p+=1)k[p].d(1);k.length=w.length}},i(s){m||(R(h),m=!0)},o(s){D(h),m=!1},d(s){s&&(u(e),u(n),u(i),u(o)),_&&_.d(s),v.d(s),u(l),u(t),E&&E.d(s),u(r),h&&h.d(s),W(k,s)}}}const a={title:"Ticker Index"};function wt(c,e,l){let t,r;N(c,pt,b=>l(5,t=b)),N(c,O,b=>l(13,r=b));let{data:n}=e,{data:i={},customFormattingSettings:o,__db:m,inputs:_}=n;Z(O,r="0deb7727a707795aa40886530c0c394f",r);let Q=ct(_);j(ft,Q),$(Q.subscribe(b=>_=b)),j(_t,{getCustomFormats:()=>o.customFormats||[]});const M=(b,Y)=>ht(m.query,b,{query_name:Y});ut(M);let v;const E=()=>{v||(v=setTimeout(()=>{U.add({id:"LoadingToast",title:"",message:"Loading...",status:"info"},0)},3e3))},h=()=>{v?(clearTimeout(v),v=null):U.dismiss("LoadingToast")};x(()=>(A.addEventListener("inFlightQueryStart",E),A.addEventListener("inFlightQueryEnd",h),A.QueriesLoading&&E(),()=>{A.removeEventListener("inFlightQueryStart",E),A.removeEventListener("inFlightQueryEnd",h)})),t.params,x(()=>!0);let w={initialData:void 0,initialError:void 0},k=B`select distinct upper(ticker) as symbol
    from strk.last_200d
    order by ticker`,s=`select distinct upper(ticker) as symbol
    from strk.last_200d
    order by ticker`;i.ticker_list&&(i.ticker_list instanceof Error?w.initialError=i.ticker_list:w.initialData=i.ticker_list,i.ticker_list__DESCRIBE&&(w.knownColumns=i.ticker_list__DESCRIBE));let f;const p=A.createReactive({callback:b=>{l(0,f=b)},execFn:M},{id:"ticker_list",...w});return p(s,{noResolve:k}),globalThis[Symbol.for("ticker_list")]={get value(){return f}},c.$$set=b=>{"data"in b&&l(1,n=b.data)},c.$$.update=()=>{c.$$.dirty&2&&l(2,{data:i={},customFormattingSettings:o,__db:m}=n,i),c.$$.dirty&4&&mt.set(Object.keys(i).length>0),c.$$.dirty&32&&t.params,c.$$.dirty&24&&p(s,{noResolve:k})},l(3,k=B`select distinct upper(ticker) as symbol
    from strk.last_200d
    order by ticker`),l(4,s=`select distinct upper(ticker) as symbol
    from strk.last_200d
    order by ticker`),[f,n,i,k,s,t]}class Dt extends et{constructor(e){super(),it(this,e,wt,vt,z,{data:1})}}export{Dt as component};
