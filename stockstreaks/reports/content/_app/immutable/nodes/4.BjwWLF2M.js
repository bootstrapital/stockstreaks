import{s as he,r as ne,i as O,z as $,g as m,ac as Ae,e as L,b as M,h as p,w as B,a as j,d as H,x as G,f as z,j as q,l as re,y as te,c as Qt,u as Bt,m as Gt,n as Yt,M as C,q as Oe,ah as xe,ab as st,X as We,af as rl,p as Te,v as Le,t as we,N as nl,ae as ol,ag as sl,ai as $e,Q as al,aa as De,Y as Ee,T as at,a7 as fl,R as He,U as et,G as ze,H as Ue,F as ul,aj as cl,a8 as ft,ak as dl,L as ut}from"../chunks/scheduler.Dt70P_FP.js";import{S as me,i as ge,t as T,g as ae,a as A,c as fe,b as X,d as Z,m as K,e as J,j as tt,f as ke,k as hl}from"../chunks/index.ACu_ga9F.js";import{e as _e,I as Xt,X as Zt,Y as ml,Z as gl,$ as ct,a0 as lt,a1 as it,a2 as _l,a3 as bl,a4 as pl,Q as be,g as yl,y as vl,a5 as wl,a6 as kl,a7 as dt,H as ht}from"../chunks/VennDiagram.svelte_svelte_type_style_lang.CjRDHdby.js";import{w as Cl}from"../chunks/entry.E1jLJAl4.js";import{h as mt,p as Sl}from"../chunks/setTrackProxy.LUR8PBUg.js";import{f as de,t as Ol,g as Tl,I as Dl,C as El}from"../chunks/CopyIcon.D4Z9l8TE.js";import{p as Kt}from"../chunks/stores.BCzS3BDx.js";import{b as Jt,s as Ce,f as Il}from"../chunks/index.CyNif0VK.js";import{D as rt,g as xt,b as ql,u as ue,C as Ll,c as Ml,f as Nl,s as Al,a as $t,Q as Hl,E as Pl}from"../chunks/colours.DxgiLwv6.js";import{C as el,P as tl}from"../chunks/Prismjs.C6X-S8Cj.js";function Wl(r,e){if(r.length===0||e.length===0)return{};const t=Object.keys(r[0]),l=Object.keys(e[0]),i={};for(const n of t)l.includes(n)&&(i[n]=n);return i}function Rl(r,e,t){for(const l in t){const i=t[l];if(r[i]!==e[l])return!1}return!0}function Vl(r,e){return l=>{if(!r.length)return l;const i=Wl(l,r),n=Object.keys(r[0]);return l.flatMap(a=>{const s=r.filter(c=>Rl(a,c,i));if(s.length)return s.map(c=>({...a,...c}));const f=Object.fromEntries(n.filter(c=>a[c]==null).map(c=>[c,void 0]));return{...a,...f}})}}function jl(r){return t=>{const l=Ul(r),i=[];for(const n in l){const o=l[n];let a;typeof o=="function"?a=o(t):Array.isArray(o)?a=o:a=Array.from(new Set(t.map(s=>s[n]))),i.push(a.map(s=>({[n]:s})))}return zl(i)}}function zl(r){function e(l,i,n){if(!n.length&&i!=null){l.push(i);return}const o=n[0],a=n.slice(1);for(const s of o)e(l,{...i,...s},a)}const t=[];return e(t,null,r),t}function Ul(r){if(Array.isArray(r)){const e={};for(const t of r)e[t]=t;return e}else if(typeof r=="object")return r;return{[r]:r}}function Fl(r){return t=>{const l=[];for(const i of t){const n={...i};for(const o in r)n[o]==null&&(n[o]=r[o]);l.push(n)}return l}}function gt(r,e){return l=>{const i=jl(r)(l),n=Vl(l)(i);return e?Fl(e)(n):n}}function _t(r,e,t){const l=r.slice();return l[2]=e[t],l}function bt(r){let e;return{c(){e=L("br"),this.h()},l(t){e=M(t,"BR",{_ignore:!0}),this.h()},h(){p(e,"_ignore",r[2])},m(t,l){O(t,e,l)},p:$,d(t){t&&m(e)}}}function Ql(r){let e,t=_e(r[0]),l=[];for(let i=0;i<t.length;i+=1)l[i]=bt(_t(r,t,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=ne()},l(i){for(let n=0;n<l.length;n+=1)l[n].l(i);e=ne()},m(i,n){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,n);O(i,e,n)},p(i,[n]){if(n&1){t=_e(i[0]);let o;for(o=0;o<t.length;o+=1){const a=_t(i,t,o);l[o]?l[o].p(a,n):(l[o]=bt(a),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},i:$,o:$,d(i){i&&m(e),Ae(l,i)}}}function Bl(r,e,t){let{lines:l=1}=e,i=Array.from({length:l});return r.$$set=n=>{"lines"in n&&t(1,l=n.lines)},[i,l]}class pt extends me{constructor(e){super(),ge(this,e,Bl,Ql,he,{lines:1})}}function yt(r){let e,t,l,i,n,o=r[1].trim()!="",a,s=r[1].trim()=="",f,c,d,h,b,_,u,g=o&&vt(r),w=s&&wt(r);const D=r[6].default,S=Qt(D,r,r[5],null);return{c(){e=L("div"),t=L("div"),l=j(),i=L("div"),n=L("div"),g&&g.c(),a=j(),w&&w.c(),c=j(),d=L("div"),h=B(r[3]),b=j(),S&&S.c(),this.h()},l(I){e=M(I,"DIV",{class:!0});var E=H(e);t=M(E,"DIV",{class:!0}),H(t).forEach(m),l=z(E),i=M(E,"DIV",{class:!0});var F=H(i);n=M(F,"DIV",{class:!0});var R=H(n);g&&g.l(R),a=z(R),w&&w.l(R),R.forEach(m),c=z(F),d=M(F,"DIV",{class:!0});var y=H(d);h=G(y,r[3]),b=z(y),S&&S.l(y),y.forEach(m),F.forEach(m),E.forEach(m),this.h()},h(){p(t,"class","fixed inset-0 bg-gray-900 opacity-50"),p(n,"class",f="relative flex justify-between items-center "+(r[1].trim()!=""?" bg-gray-100 py-4 px-10 text-xl font-bold break-normal text-center":"")),p(d,"class",_="h-auto max-h-96 overflow-y-auto px-10 "+(r[1].trim()!=""?"my-4":"my-6")+" text-base break-normal"),p(i,"class","bg-white w-4/5 max-w-lg mx-auto rounded-lg shadow-xl z-50 overflow-y-auto font-ui"),p(e,"class","modal z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center lg:p-0")},m(I,E){O(I,e,E),q(e,t),q(e,l),q(e,i),q(i,n),g&&g.m(n,null),q(n,a),w&&w.m(n,null),q(i,c),q(i,d),q(d,h),q(d,b),S&&S.m(d,null),u=!0},p(I,E){E&2&&(o=I[1].trim()!=""),o?g?(g.p(I,E),E&2&&T(g,1)):(g=vt(I),g.c(),T(g,1),g.m(n,a)):g&&(ae(),A(g,1,1,()=>{g=null}),fe()),E&2&&(s=I[1].trim()==""),s?w?(w.p(I,E),E&2&&T(w,1)):(w=wt(I),w.c(),T(w,1),w.m(n,null)):w&&(ae(),A(w,1,1,()=>{w=null}),fe()),(!u||E&2&&f!==(f="relative flex justify-between items-center "+(I[1].trim()!=""?" bg-gray-100 py-4 px-10 text-xl font-bold break-normal text-center":"")))&&p(n,"class",f),(!u||E&8)&&te(h,I[3]),S&&S.p&&(!u||E&32)&&Bt(S,D,I,I[5],u?Yt(D,I[5],E,null):Gt(I[5]),null),(!u||E&2&&_!==(_="h-auto max-h-96 overflow-y-auto px-10 "+(I[1].trim()!=""?"my-4":"my-6")+" text-base break-normal"))&&p(d,"class",_)},i(I){u||(T(g),T(w),T(S,I),u=!0)},o(I){A(g),A(w),A(S,I),u=!1},d(I){I&&m(e),g&&g.d(),w&&w.d(),S&&S.d(I)}}}function vt(r){let e,t,l,i,n,o,a;return i=new Xt({props:{src:Zt,class:"text-gray-600 w-6 h-6"}}),{c(){e=B(r[1]),t=j(),l=L("button"),X(i.$$.fragment),this.h()},l(s){e=G(s,r[1]),t=z(s),l=M(s,"BUTTON",{class:!0});var f=H(l);Z(i.$$.fragment,f),f.forEach(m),this.h()},h(){p(l,"class","flex items-center justify-center border-none hover:bg-gray-200")},m(s,f){O(s,e,f),O(s,t,f),O(s,l,f),K(i,l,null),n=!0,o||(a=re(l,"click",r[8]),o=!0)},p(s,f){(!n||f&2)&&te(e,s[1])},i(s){n||(T(i.$$.fragment,s),n=!0)},o(s){A(i.$$.fragment,s),n=!1},d(s){s&&(m(e),m(t),m(l)),J(i),o=!1,a()}}}function wt(r){let e,t,l,i,n;return t=new Xt({props:{src:Zt,class:"text-gray-600 w-6 h-6 mt-2 mr-2 hover:bg-gray-200"}}),{c(){e=L("button"),X(t.$$.fragment),this.h()},l(o){e=M(o,"BUTTON",{class:!0});var a=H(e);Z(t.$$.fragment,a),a.forEach(m),this.h()},h(){p(e,"class","flex items-center justify-center border-none p-0.5 absolute right-0 top-0 ml-4")},m(o,a){O(o,e,a),K(t,e,null),l=!0,i||(n=re(e,"click",r[9]),i=!0)},p:$,i(o){l||(T(t.$$.fragment,o),l=!0)},o(o){A(t.$$.fragment,o),l=!1},d(o){o&&m(e),J(t),i=!1,n()}}}function Gl(r){let e,t,l,i,n,o,a,s=r[0]&&yt(r);return{c(){e=L("button"),t=B(r[2]),l=j(),s&&s.c(),i=ne(),this.h()},l(f){e=M(f,"BUTTON",{class:!0});var c=H(e);t=G(c,r[2]),c.forEach(m),l=z(f),s&&s.l(f),i=ne(),this.h()},h(){p(e,"class","font-ui font-normal text-base no-underline border my-2 rounded-lg py-2 px-3 inline-block transition hover:ease-in hover:border-blue-200 hover:bg-blue-100 hover:no-underline hover:text-gray-800 focus:text-gray-900 focus:border-blue-200")},m(f,c){O(f,e,c),q(e,t),O(f,l,c),s&&s.m(f,c),O(f,i,c),n=!0,o||(a=re(e,"click",r[7]),o=!0)},p(f,[c]){(!n||c&4)&&te(t,f[2]),f[0]?s?(s.p(f,c),c&1&&T(s,1)):(s=yt(f),s.c(),T(s,1),s.m(i.parentNode,i)):s&&(ae(),A(s,1,1,()=>{s=null}),fe())},i(f){n||(T(s),n=!0)},o(f){A(s),n=!1},d(f){f&&(m(e),m(l),m(i)),s&&s.d(f),o=!1,a()}}}function Yl(r,e,t){let{$$slots:l={},$$scope:i}=e,{open:n=!1}=e,{title:o=""}=e,{buttonText:a=""}=e,{innerText:s=""}=e;const f=()=>{t(0,n=!n)},c=()=>f(),d=()=>f(),h=()=>f();return r.$$set=b=>{"open"in b&&t(0,n=b.open),"title"in b&&t(1,o=b.title),"buttonText"in b&&t(2,a=b.buttonText),"innerText"in b&&t(3,s=b.innerText),"$$scope"in b&&t(5,i=b.$$scope)},[n,o,a,s,f,i,l,c,d,h]}class Xl extends me{constructor(e){super(),ge(this,e,Yl,Gl,he,{open:0,title:1,buttonText:2,innerText:3})}}function kt(r,e,t){const l=r.slice();return l[12]=e[t],l[14]=t,l}function Ct(r,e,t){const l=r.slice();return l[15]=e[t],l[17]=t,l}function St(r,e,t){const l=r.slice();return l[15]=e[t],l}function Ot(r,e,t){const l=r.slice();return l[15]=e[t],l}function Tt(r){let e,t=r[15].id+"",l,i,n,o;return{c(){e=L("th"),l=B(t),this.h()},l(a){e=M(a,"TH",{class:!0,style:!0,evidencetype:!0,evidencetypefidelity:!0});var s=H(e);l=G(s,t),s.forEach(m),this.h()},h(){var a,s;p(e,"class",i=xe(r[15].type)+" svelte-iw7vqx"),C(e,"width",r[6]+"%"),p(e,"evidencetype",n=((a=r[15].evidenceColumnType)==null?void 0:a.evidenceType)||"unavailable"),p(e,"evidencetypefidelity",o=((s=r[15].evidenceColumnType)==null?void 0:s.typeFidelity)||"unavailable")},m(a,s){O(a,e,s),q(e,l)},p(a,s){var f,c;s&8&&t!==(t=a[15].id+"")&&te(l,t),s&8&&i!==(i=xe(a[15].type)+" svelte-iw7vqx")&&p(e,"class",i),s&64&&C(e,"width",a[6]+"%"),s&8&&n!==(n=((f=a[15].evidenceColumnType)==null?void 0:f.evidenceType)||"unavailable")&&p(e,"evidencetype",n),s&8&&o!==(o=((c=a[15].evidenceColumnType)==null?void 0:c.typeFidelity)||"unavailable")&&p(e,"evidencetypefidelity",o)},d(a){a&&m(e)}}}function Dt(r){let e,t=r[15].type+"",l,i,n,o;return{c(){e=L("th"),l=B(t),this.h()},l(a){e=M(a,"TH",{class:!0,style:!0,evidencetype:!0,evidencetypefidelity:!0});var s=H(e);l=G(s,t),s.forEach(m),this.h()},h(){var a,s;p(e,"class",i=r[15].type+" type-indicator svelte-iw7vqx"),C(e,"width",r[6]+"%"),p(e,"evidencetype",n=((a=r[15].evidenceColumnType)==null?void 0:a.evidenceType)||"unavailable"),p(e,"evidencetypefidelity",o=((s=r[15].evidenceColumnType)==null?void 0:s.typeFidelity)||"unavailable")},m(a,s){O(a,e,s),q(e,l)},p(a,s){var f,c;s&8&&t!==(t=a[15].type+"")&&te(l,t),s&8&&i!==(i=a[15].type+" type-indicator svelte-iw7vqx")&&p(e,"class",i),s&64&&C(e,"width",a[6]+"%"),s&8&&n!==(n=((f=a[15].evidenceColumnType)==null?void 0:f.evidenceType)||"unavailable")&&p(e,"evidencetype",n),s&8&&o!==(o=((c=a[15].evidenceColumnType)==null?void 0:c.typeFidelity)||"unavailable")&&p(e,"evidencetypefidelity",o)},d(a){a&&m(e)}}}function Zl(r){let e=(r[2]+r[14]+1).toLocaleString()+"",t;return{c(){t=B(e)},l(l){t=G(l,e)},m(l,i){O(l,t,i)},p(l,i){i&4&&e!==(e=(l[2]+l[14]+1).toLocaleString()+"")&&te(t,e)},d(l){l&&m(t)}}}function Kl(r){let e=(r[2]+r[14]+1).toLocaleString()+"",t;return{c(){t=B(e)},l(l){t=G(l,e)},m(l,i){O(l,t,i)},p(l,i){i&4&&e!==(e=(l[2]+l[14]+1).toLocaleString()+"")&&te(t,e)},d(l){l&&m(t)}}}function Jl(r){let e,t=(r[12][r[15].id]||"Ø")+"",l;return{c(){e=L("td"),l=B(t),this.h()},l(i){e=M(i,"TD",{class:!0,style:!0});var n=H(e);l=G(n,t),n.forEach(m),this.h()},h(){p(e,"class","other svelte-iw7vqx"),C(e,"width",r[6]+"%")},m(i,n){O(i,e,n),q(e,l)},p(i,n){n&40&&t!==(t=(i[12][i[15].id]||"Ø")+"")&&te(l,t),n&64&&C(e,"width",i[6]+"%")},d(i){i&&m(e)}}}function xl(r){let e,t,l=(r[12][r[15].id]??"Ø")+"",i,n;return{c(){e=L("td"),t=L("div"),i=B(l),this.h()},l(o){e=M(o,"TD",{class:!0,style:!0,title:!0});var a=H(e);t=M(a,"DIV",{class:!0});var s=H(t);i=G(s,l),s.forEach(m),a.forEach(m),this.h()},h(){p(t,"class","svelte-iw7vqx"),p(e,"class","boolean svelte-iw7vqx"),C(e,"width",r[6]+"%"),p(e,"title",n=r[12][r[15].id])},m(o,a){O(o,e,a),q(e,t),q(t,i)},p(o,a){a&40&&l!==(l=(o[12][o[15].id]??"Ø")+"")&&te(i,l),a&64&&C(e,"width",o[6]+"%"),a&40&&n!==(n=o[12][o[15].id])&&p(e,"title",n)},d(o){o&&m(e)}}}function $l(r){let e,t,l=(r[12][r[15].id]||"Ø")+"",i,n;return{c(){e=L("td"),t=L("div"),i=B(l),this.h()},l(o){e=M(o,"TD",{class:!0,style:!0,title:!0});var a=H(e);t=M(a,"DIV",{class:!0});var s=H(t);i=G(s,l),s.forEach(m),a.forEach(m),this.h()},h(){p(t,"class","svelte-iw7vqx"),p(e,"class","string svelte-iw7vqx"),C(e,"width",r[6]+"%"),p(e,"title",n=r[12][r[15].id])},m(o,a){O(o,e,a),q(e,t),q(t,i)},p(o,a){a&40&&l!==(l=(o[12][o[15].id]||"Ø")+"")&&te(i,l),a&64&&C(e,"width",o[6]+"%"),a&40&&n!==(n=o[12][o[15].id])&&p(e,"title",n)},d(o){o&&m(e)}}}function ei(r){let e,t,l=de(r[12][r[15].id],r[3][r[17]].format,r[3][r[17]].columnUnitSummary)+"",i,n;return{c(){e=L("td"),t=L("div"),i=B(l),this.h()},l(o){e=M(o,"TD",{class:!0,style:!0,title:!0});var a=H(e);t=M(a,"DIV",{class:!0});var s=H(t);i=G(s,l),s.forEach(m),a.forEach(m),this.h()},h(){p(t,"class","svelte-iw7vqx"),p(e,"class","string svelte-iw7vqx"),C(e,"width",r[6]+"%"),p(e,"title",n=de(r[12][r[15].id],r[3][r[17]].format,r[3][r[17]].columnUnitSummary))},m(o,a){O(o,e,a),q(e,t),q(t,i)},p(o,a){a&40&&l!==(l=de(o[12][o[15].id],o[3][o[17]].format,o[3][o[17]].columnUnitSummary)+"")&&te(i,l),a&64&&C(e,"width",o[6]+"%"),a&40&&n!==(n=de(o[12][o[15].id],o[3][o[17]].format,o[3][o[17]].columnUnitSummary))&&p(e,"title",n)},d(o){o&&m(e)}}}function ti(r){let e,t=de(r[12][r[15].id],r[3][r[17]].format,r[3][r[17]].columnUnitSummary)+"",l;return{c(){e=L("td"),l=B(t),this.h()},l(i){e=M(i,"TD",{class:!0,style:!0});var n=H(e);l=G(n,t),n.forEach(m),this.h()},h(){p(e,"class","number svelte-iw7vqx"),C(e,"width",r[6]+"%")},m(i,n){O(i,e,n),q(e,l)},p(i,n){n&40&&t!==(t=de(i[12][i[15].id],i[3][i[17]].format,i[3][i[17]].columnUnitSummary)+"")&&te(l,t),n&64&&C(e,"width",i[6]+"%")},d(i){i&&m(e)}}}function li(r){let e,t="Ø",l,i;return{c(){e=L("td"),l=B(t),this.h()},l(n){e=M(n,"TD",{class:!0,style:!0});var o=H(e);l=G(o,t),o.forEach(m),this.h()},h(){p(e,"class",i="null "+r[3][r[17]].type+" svelte-iw7vqx"),C(e,"width",r[6]+"%")},m(n,o){O(n,e,o),q(e,l)},p(n,o){o&8&&i!==(i="null "+n[3][n[17]].type+" svelte-iw7vqx")&&p(e,"class",i),o&64&&C(e,"width",n[6]+"%")},d(n){n&&m(e)}}}function Et(r){let e;function t(n,o){return n[12][n[15].id]==null?li:n[3][n[17]].type==="number"?ti:n[3][n[17]].type==="date"?ei:n[3][n[17]].type==="string"?$l:n[3][n[17]].type==="boolean"?xl:Jl}let l=t(r),i=l(r);return{c(){i.c(),e=ne()},l(n){i.l(n),e=ne()},m(n,o){i.m(n,o),O(n,e,o)},p(n,o){l===(l=t(n))&&i?i.p(n,o):(i.d(1),i=l(n),i&&(i.c(),i.m(e.parentNode,e)))},d(n){n&&m(e),i.d(n)}}}function It(r){let e,t,l,i;function n(c,d){return c[14]===0?Kl:Zl}let a=n(r)(r),s=_e(r[3]),f=[];for(let c=0;c<s.length;c+=1)f[c]=Et(Ct(r,s,c));return{c(){e=L("tr"),t=L("td"),a.c(),l=j();for(let c=0;c<f.length;c+=1)f[c].c();i=j(),this.h()},l(c){e=M(c,"TR",{});var d=H(e);t=M(d,"TD",{class:!0,style:!0});var h=H(t);a.l(h),h.forEach(m),l=z(d);for(let b=0;b<f.length;b+=1)f[b].l(d);i=z(d),d.forEach(m),this.h()},h(){p(t,"class","index svelte-iw7vqx"),C(t,"width","10%")},m(c,d){O(c,e,d),q(e,t),a.m(t,null),q(e,l);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(e,null);q(e,i)},p(c,d){if(a.p(c,d),d&104){s=_e(c[3]);let h;for(h=0;h<s.length;h+=1){const b=Ct(c,s,h);f[h]?f[h].p(b,d):(f[h]=Et(b),f[h].c(),f[h].m(e,i))}for(;h<f.length;h+=1)f[h].d(1);f.length=s.length}},d(c){c&&m(e),a.d(),Ae(f,c)}}}function qt(r){let e,t,l,i,n=(r[2]+Se).toLocaleString()+"",o,a,s=(r[4]+Se).toLocaleString()+"",f,c,d;return{c(){e=L("div"),t=L("input"),l=j(),i=L("span"),o=B(n),a=B(" of "),f=B(s),this.h()},l(h){e=M(h,"DIV",{class:!0});var b=H(e);t=M(b,"INPUT",{type:!0,max:!0,step:!0,class:!0}),l=z(b),i=M(b,"SPAN",{class:!0});var _=H(i);o=G(_,n),a=G(_," of "),f=G(_,s),_.forEach(m),b.forEach(m),this.h()},h(){p(t,"type","range"),p(t,"max",r[4]),p(t,"step","1"),p(t,"class","slider svelte-iw7vqx"),p(i,"class","svelte-iw7vqx"),p(e,"class","pagination svelte-iw7vqx")},m(h,b){O(h,e,b),q(e,t),st(t,r[2]),q(e,l),q(e,i),q(i,o),q(i,a),q(i,f),c||(d=[re(t,"change",r[9]),re(t,"input",r[9]),re(t,"input",r[7])],c=!0)},p(h,b){b&16&&p(t,"max",h[4]),b&4&&st(t,h[2]),b&4&&n!==(n=(h[2]+Se).toLocaleString()+"")&&te(o,n),b&16&&s!==(s=(h[4]+Se).toLocaleString()+"")&&te(f,s)},d(h){h&&m(e),c=!1,We(d)}}}function ii(r){let e,t,l,i,n,o,a,s,f,c,d,h,b,_,u,g,w,D,S,I,E,F,R,y,v,P,x=_e(r[3]),U=[];for(let N=0;N<x.length;N+=1)U[N]=Tt(Ot(r,x,N));let oe=_e(r[3]),Q=[];for(let N=0;N<oe.length;N+=1)Q[N]=Dt(St(r,oe,N));let ce=_e(r[5]),W=[];for(let N=0;N<ce.length;N+=1)W[N]=It(kt(r,ce,N));let le=r[4]>0&&qt(r);return F=new rt({props:{class:"download-button",data:r[1],queryID:r[0],display:!0}}),{c(){e=L("div"),t=L("div"),l=L("table"),i=L("thead"),n=L("tr"),o=L("th"),a=j();for(let N=0;N<U.length;N+=1)U[N].c();s=j(),f=L("tr"),c=j(),d=L("tr"),h=L("th"),b=j();for(let N=0;N<Q.length;N+=1)Q[N].c();_=j(),u=L("tr"),g=j(),w=L("tbody");for(let N=0;N<W.length;N+=1)W[N].c();S=j(),le&&le.c(),I=j(),E=L("div"),X(F.$$.fragment),this.h()},l(N){e=M(N,"DIV",{class:!0});var ee=H(e);t=M(ee,"DIV",{class:!0});var Y=H(t);l=M(Y,"TABLE",{class:!0});var V=H(l);i=M(V,"THEAD",{});var ie=H(i);n=M(ie,"TR",{});var pe=H(n);o=M(pe,"TH",{class:!0,style:!0}),H(o).forEach(m),a=z(pe);for(let se=0;se<U.length;se+=1)U[se].l(pe);s=z(pe),pe.forEach(m),f=M(ie,"TR",{}),H(f).forEach(m),c=z(ie),d=M(ie,"TR",{class:!0});var ye=H(d);h=M(ye,"TH",{class:!0,style:!0}),H(h).forEach(m),b=z(ye);for(let se=0;se<Q.length;se+=1)Q[se].l(ye);_=z(ye),ye.forEach(m),u=M(ie,"TR",{}),H(u).forEach(m),ie.forEach(m),g=z(V),w=M(V,"TBODY",{});var Me=H(w);for(let se=0;se<W.length;se+=1)W[se].l(Me);Me.forEach(m),V.forEach(m),Y.forEach(m),S=z(ee),le&&le.l(ee),I=z(ee),E=M(ee,"DIV",{class:!0});var Ie=H(E);Z(F.$$.fragment,Ie),Ie.forEach(m),ee.forEach(m),this.h()},h(){p(o,"class","index svelte-iw7vqx"),C(o,"width","10%"),p(h,"class","index type-indicator svelte-iw7vqx"),C(h,"width","10%"),p(d,"class","type-indicator svelte-iw7vqx"),p(l,"class","svelte-iw7vqx"),p(t,"class","scrollbox svelte-iw7vqx"),p(E,"class","footer svelte-iw7vqx"),p(e,"class","results-pane py-1 svelte-iw7vqx")},m(N,ee){O(N,e,ee),q(e,t),q(t,l),q(l,i),q(i,n),q(n,o),q(n,a);for(let Y=0;Y<U.length;Y+=1)U[Y]&&U[Y].m(n,null);q(n,s),q(i,f),q(i,c),q(i,d),q(d,h),q(d,b);for(let Y=0;Y<Q.length;Y+=1)Q[Y]&&Q[Y].m(d,null);q(d,_),q(i,u),q(l,g),q(l,w);for(let Y=0;Y<W.length;Y+=1)W[Y]&&W[Y].m(w,null);q(e,S),le&&le.m(e,null),q(e,I),q(e,E),K(F,E,null),y=!0,v||(P=re(w,"wheel",r[8]),v=!0)},p(N,[ee]){if(ee&72){x=_e(N[3]);let V;for(V=0;V<x.length;V+=1){const ie=Ot(N,x,V);U[V]?U[V].p(ie,ee):(U[V]=Tt(ie),U[V].c(),U[V].m(n,s))}for(;V<U.length;V+=1)U[V].d(1);U.length=x.length}if(ee&72){oe=_e(N[3]);let V;for(V=0;V<oe.length;V+=1){const ie=St(N,oe,V);Q[V]?Q[V].p(ie,ee):(Q[V]=Dt(ie),Q[V].c(),Q[V].m(d,_))}for(;V<Q.length;V+=1)Q[V].d(1);Q.length=oe.length}if(ee&108){ce=_e(N[5]);let V;for(V=0;V<ce.length;V+=1){const ie=kt(N,ce,V);W[V]?W[V].p(ie,ee):(W[V]=It(ie),W[V].c(),W[V].m(w,null))}for(;V<W.length;V+=1)W[V].d(1);W.length=ce.length}N[4]>0?le?le.p(N,ee):(le=qt(N),le.c(),le.m(e,I)):le&&(le.d(1),le=null);const Y={};ee&2&&(Y.data=N[1]),ee&1&&(Y.queryID=N[0]),F.$set(Y)},i(N){y||(N&&(D||Oe(()=>{D=tt(l,Jt,{}),D.start()})),T(F.$$.fragment,N),N&&Oe(()=>{y&&(R||(R=ke(e,Ce,{},!0)),R.run(1))}),y=!0)},o(N){A(F.$$.fragment,N),N&&(R||(R=ke(e,Ce,{},!1)),R.run(0)),y=!1},d(N){N&&m(e),Ae(U,N),Ae(Q,N),Ae(W,N),le&&le.d(),J(F),N&&R&&R.end(),v=!1,P()}}}let Se=5;function ri(r,e,t){let l,i,n,o,{queryID:a}=e,{data:s}=e,f=0,c;function d(){c=s.slice(f,f+Se),t(5,o=c)}const h=ml(u=>{t(2,f=Math.min(Math.max(0,f+Math.floor(u.deltaY/Math.abs(u.deltaY))),n)),d()},60);function b(u){if(Math.abs(u.deltaX)>=Math.abs(u.deltaY))return;const g=u.deltaY<0&&f===0,w=u.deltaY>0&&f===n;g||w||(u.preventDefault(),h(u))}function _(){f=rl(this.value),t(2,f)}return r.$$set=u=>{"queryID"in u&&t(0,a=u.queryID),"data"in u&&t(1,s=u.data)},r.$$.update=()=>{r.$$.dirty&2&&t(3,l=xt(s,"array")),r.$$.dirty&8&&t(6,i=90/(l.length+1)),r.$$.dirty&2&&t(4,n=Math.max(s.length-Se,0)),r.$$.dirty&6&&t(5,o=s.slice(f,f+Se))},[a,s,f,l,n,o,i,d,b,_]}class ni extends me{constructor(e){super(),ge(this,e,ri,ii,he,{queryID:0,data:1})}}function oi(r){let e,t="Compiled",l,i,n="Written",o,a;return{c(){e=L("button"),e.textContent=t,l=j(),i=L("button"),i.textContent=n,this.h()},l(s){e=M(s,"BUTTON",{class:!0,"data-svelte-h":!0}),Te(e)!=="svelte-1vzm9jy"&&(e.textContent=t),l=z(s),i=M(s,"BUTTON",{class:!0,"data-svelte-h":!0}),Te(i)!=="svelte-5roa31"&&(i.textContent=n),this.h()},h(){p(e,"class","off svelte-1b8idd8"),p(i,"class","on svelte-1b8idd8")},m(s,f){O(s,e,f),O(s,l,f),O(s,i,f),o||(a=re(e,"click",r[1]),o=!0)},p:$,d(s){s&&(m(e),m(l),m(i)),o=!1,a()}}}function si(r){let e,t="Compiled",l,i,n="Written",o,a;return{c(){e=L("button"),e.textContent=t,l=j(),i=L("button"),i.textContent=n,this.h()},l(s){e=M(s,"BUTTON",{class:!0,"data-svelte-h":!0}),Te(e)!=="svelte-1ofx42v"&&(e.textContent=t),l=z(s),i=M(s,"BUTTON",{class:!0,"data-svelte-h":!0}),Te(i)!=="svelte-v36xno"&&(i.textContent=n),this.h()},h(){p(e,"class","on svelte-1b8idd8"),p(i,"class","off svelte-1b8idd8")},m(s,f){O(s,e,f),O(s,l,f),O(s,i,f),o||(a=re(i,"click",r[1]),o=!0)},p:$,d(s){s&&(m(e),m(l),m(i)),o=!1,a()}}}function ai(r){let e,t,l;function i(a,s){return a[0]?si:oi}let n=i(r),o=n(r);return{c(){e=L("div"),o.c(),this.h()},l(a){e=M(a,"DIV",{class:!0});var s=H(e);o.l(s),s.forEach(m),this.h()},h(){p(e,"class","toggle svelte-1b8idd8")},m(a,s){O(a,e,s),o.m(e,null),l=!0},p(a,[s]){n===(n=i(a))&&o?o.p(a,s):(o.d(1),o=n(a),o&&(o.c(),o.m(e,null)))},i(a){l||(a&&Oe(()=>{l&&(t||(t=ke(e,Ce,{},!0)),t.run(1))}),l=!0)},o(a){a&&(t||(t=ke(e,Ce,{},!1)),t.run(0)),l=!1},d(a){a&&m(e),o.d(),a&&t&&t.end()}}}function fi(r,e,t){let{showCompiled:l}=e;const i=function(){t(0,l=!l)};return r.$$set=n=>{"showCompiled"in n&&t(0,l=n.showCompiled)},[l,i]}class ui extends me{constructor(e){super(),ge(this,e,fi,ai,he,{showCompiled:0})}}function Lt(r){let e,t,l,i,n,o,a,s,f,c,d,h,b,_,u,g,w;i=new el({props:{toggled:r[10]}});let D=r[10]&&r[4]&&Mt(r),S=r[10]&&Nt(r);const I=[_i,gi,mi,hi],E=[];function F(y,v){return y[6]?0:y[8]?1:y[2].loading?2:3}d=F(r),h=E[d]=I[d](r);let R=r[8]>0&&!r[6]&&r[9]&&At(r);return{c(){e=L("div"),t=L("div"),l=L("button"),X(i.$$.fragment),n=j(),o=B(r[0]),a=j(),D&&D.c(),s=j(),S&&S.c(),f=j(),c=L("button"),h.c(),b=j(),R&&R.c(),this.h()},l(y){e=M(y,"DIV",{class:!0});var v=H(e);t=M(v,"DIV",{class:!0});var P=H(t);l=M(P,"BUTTON",{type:!0,"aria-label":!0,class:!0});var x=H(l);Z(i.$$.fragment,x),n=z(x),o=G(x,r[0]),x.forEach(m),a=z(P),D&&D.l(P),s=z(P),S&&S.l(P),P.forEach(m),f=z(v),c=M(v,"BUTTON",{type:!0,"aria-label":!0,class:!0});var U=H(c);h.l(U),U.forEach(m),b=z(v),R&&R.l(v),v.forEach(m),this.h()},h(){p(l,"type","button"),p(l,"aria-label","show-sql"),p(l,"class","title svelte-1plm20d"),p(t,"class","container-a svelte-1plm20d"),p(c,"type","button"),p(c,"aria-label","view-query"),p(c,"class",xe("status-bar")+" svelte-1plm20d"),we(c,"error",r[6]),we(c,"success",!r[6]),we(c,"open",r[9]),we(c,"closed",!r[9]),p(e,"class","scrollbox svelte-1plm20d")},m(y,v){O(y,e,v),q(e,t),q(t,l),K(i,l,null),q(l,n),q(l,o),q(t,a),D&&D.m(t,null),q(t,s),S&&S.m(t,null),q(e,f),q(e,c),E[d].m(c,null),q(e,b),R&&R.m(e,null),u=!0,g||(w=[re(l,"click",r[14]),re(c,"click",r[15])],g=!0)},p(y,v){const P={};v&1024&&(P.toggled=y[10]),i.$set(P),(!u||v&1)&&te(o,y[0]),y[10]&&y[4]?D?(D.p(y,v),v&1040&&T(D,1)):(D=Mt(y),D.c(),T(D,1),D.m(t,s)):D&&(ae(),A(D,1,1,()=>{D=null}),fe()),y[10]?S?(S.p(y,v),v&1024&&T(S,1)):(S=Nt(y),S.c(),T(S,1),S.m(t,null)):S&&(ae(),A(S,1,1,()=>{S=null}),fe());let x=d;d=F(y),d===x?E[d].p(y,v):(ae(),A(E[x],1,1,()=>{E[x]=null}),fe(),h=E[d],h?h.p(y,v):(h=E[d]=I[d](y),h.c()),T(h,1),h.m(c,null)),(!u||v&64)&&we(c,"error",y[6]),(!u||v&64)&&we(c,"success",!y[6]),(!u||v&512)&&we(c,"open",y[9]),(!u||v&512)&&we(c,"closed",!y[9]),y[8]>0&&!y[6]&&y[9]?R?(R.p(y,v),v&832&&T(R,1)):(R=At(y),R.c(),T(R,1),R.m(e,null)):R&&(ae(),A(R,1,1,()=>{R=null}),fe())},i(y){u||(T(i.$$.fragment,y),T(D),T(S),T(h),T(R),y&&Oe(()=>{u&&(_||(_=ke(e,Ce,{},!0)),_.run(1))}),u=!0)},o(y){A(i.$$.fragment,y),A(D),A(S),A(h),A(R),y&&(_||(_=ke(e,Ce,{},!1)),_.run(0)),u=!1},d(y){y&&m(e),J(i),D&&D.d(),S&&S.d(),E[d].d(),R&&R.d(),y&&_&&_.end(),g=!1,We(w)}}}function Mt(r){let e,t,l;function i(o){r[18](o)}let n={};return r[5]!==void 0&&(n.showCompiled=r[5]),e=new ui({props:n}),nl.push(()=>hl(e,"showCompiled",i)),{c(){X(e.$$.fragment)},l(o){Z(e.$$.fragment,o)},m(o,a){K(e,o,a),l=!0},p(o,a){const s={};!t&&a&32&&(t=!0,s.showCompiled=o[5],ol(()=>t=!1)),e.$set(s)},i(o){l||(T(e.$$.fragment,o),l=!0)},o(o){A(e.$$.fragment,o),l=!1},d(o){J(e,o)}}}function Nt(r){let e,t,l,i,n;const o=[di,ci],a=[];function s(f,c){return f[5]?0:1}return t=s(r),l=a[t]=o[t](r),{c(){e=L("div"),l.c(),this.h()},l(f){e=M(f,"DIV",{class:!0});var c=H(e);l.l(c),c.forEach(m),this.h()},h(){p(e,"class","code-container svelte-1plm20d")},m(f,c){O(f,e,c),a[t].m(e,null),n=!0},p(f,c){let d=t;t=s(f),t===d?a[t].p(f,c):(ae(),A(a[d],1,1,()=>{a[d]=null}),fe(),l=a[t],l?l.p(f,c):(l=a[t]=o[t](f),l.c()),T(l,1),l.m(e,null))},i(f){n||(T(l),f&&Oe(()=>{n&&(i||(i=ke(e,Ce,{},!0)),i.run(1))}),n=!0)},o(f){A(l),f&&(i||(i=ke(e,Ce,{},!1)),i.run(0)),n=!1},d(f){f&&m(e),a[t].d(),f&&i&&i.end()}}}function ci(r){let e,t;return e=new tl({props:{code:r[3]}}),{c(){X(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){K(e,l,i),t=!0},p(l,i){const n={};i&8&&(n.code=l[3]),e.$set(n)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function di(r){let e,t;return e=new tl({props:{code:r[1].originalText}}),{c(){X(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){K(e,l,i),t=!0},p(l,i){const n={};i&2&&(n.code=l[1].originalText),e.$set(n)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function hi(r){let e;return{c(){e=B("ran successfully but no data was returned")},l(t){e=G(t,"ran successfully but no data was returned")},m(t,l){O(t,e,l)},p:$,i:$,o:$,d(t){t&&m(e)}}}function mi(r){let e;return{c(){e=B("loading...")},l(t){e=G(t,"loading...")},m(t,l){O(t,e,l)},p:$,i:$,o:$,d(t){t&&m(e)}}}function gi(r){let e,t,l=r[8].toLocaleString()+"",i,n,o=r[8]>1?"records":"record",a,s,f=r[7].toLocaleString()+"",c,d,h=r[7]>1?"properties":"property",b,_;return e=new el({props:{toggled:r[9],color:"#3488e9"}}),{c(){X(e.$$.fragment),t=j(),i=B(l),n=j(),a=B(o),s=B(" with "),c=B(f),d=j(),b=B(h)},l(u){Z(e.$$.fragment,u),t=z(u),i=G(u,l),n=z(u),a=G(u,o),s=G(u," with "),c=G(u,f),d=z(u),b=G(u,h)},m(u,g){K(e,u,g),O(u,t,g),O(u,i,g),O(u,n,g),O(u,a,g),O(u,s,g),O(u,c,g),O(u,d,g),O(u,b,g),_=!0},p(u,g){const w={};g&512&&(w.toggled=u[9]),e.$set(w),(!_||g&256)&&l!==(l=u[8].toLocaleString()+"")&&te(i,l),(!_||g&256)&&o!==(o=u[8]>1?"records":"record")&&te(a,o),(!_||g&128)&&f!==(f=u[7].toLocaleString()+"")&&te(c,f),(!_||g&128)&&h!==(h=u[7]>1?"properties":"property")&&te(b,h)},i(u){_||(T(e.$$.fragment,u),_=!0)},o(u){A(e.$$.fragment,u),_=!1},d(u){u&&(m(t),m(i),m(n),m(a),m(s),m(c),m(d),m(b)),J(e,u)}}}function _i(r){let e=r[6].message+"",t;return{c(){t=B(e)},l(l){t=G(l,e)},m(l,i){O(l,t,i)},p(l,i){i&64&&e!==(e=l[6].message+"")&&te(t,e)},i:$,o:$,d(l){l&&m(t)}}}function At(r){let e,t;return e=new ni({props:{data:r[1],queryID:r[0]}}),{c(){X(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){K(e,l,i),t=!0},p(l,i){const n={};i&2&&(n.data=l[1]),i&1&&(n.queryID=l[0]),e.$set(n)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function bi(r){let e,t,l,i=r[11]&&Lt(r);return{c(){e=L("div"),i&&i.c(),this.h()},l(n){e=M(n,"DIV",{class:!0});var o=H(e);i&&i.l(o),o.forEach(m),this.h()},h(){p(e,"class","over-container svelte-1plm20d")},m(n,o){O(n,e,o),i&&i.m(e,null),l=!0},p(n,[o]){n[11]?i?(i.p(n,o),o&2048&&T(i,1)):(i=Lt(n),i.c(),T(i,1),i.m(e,null)):i&&(ae(),A(i,1,1,()=>{i=null}),fe())},i(n){l||(T(i),n&&(t||Oe(()=>{t=tt(e,Jt,{}),t.start()})),l=!0)},o(n){A(i),l=!1},d(n){n&&m(e),i&&i.d()}}}function pi(r,e,t){let l,i,n,o,a=$,s=()=>(a(),a=sl(_,y=>t(2,o=y)),_),f,c,d,h;Le(r,Kt,y=>t(17,d=y)),Le(r,gl,y=>t(11,h=y)),r.$$.on_destroy.push(()=>a());let{queryID:b}=e,{queryResult:_}=e;s();let u=ct("showSQL_".concat(b),!1);Le(r,u,y=>t(10,c=y));let g=ct(`showResults_${b}`);Le(r,g,y=>t(9,f=y));const w=function(){$e(u,c=!c,c)},D=function(){!F&&o.length>0&&$e(g,f=!f,f)};let S,I,E=!0,F;function R(y){E=y,t(5,E)}return r.$$set=y=>{"queryID"in y&&t(0,b=y.queryID),"queryResult"in y&&s(t(1,_=y.queryResult))},r.$$.update=()=>{if(r.$$.dirty&131072&&t(16,l=d.data.evidencemeta.queries),r.$$.dirty&4&&(o?t(6,F=o.error):t(6,F=new Error("queryResult is undefined"))),r.$$.dirty&4&&t(8,i=(o==null?void 0:o.length)??0),r.$$.dirty&4&&t(7,n=o.columns.length??(o==null?void 0:o._evidenceColumnTypes.length)??0),r.$$.dirty&65537){let y=l==null?void 0:l.find(v=>v.id===b);y&&(t(3,S=y.inputQueryString),t(4,I=y.compiled&&y.compileError===void 0))}},[b,_,o,S,I,E,F,n,i,f,c,h,u,g,w,D,l,d,R]}class yi extends me{constructor(e){super(),ge(this,e,pi,bi,he,{queryID:0,queryResult:1})}}const Fe=ue.grey500,Qe=ue.grey500,Be=ue.grey500,Ge=ue.grey200,Ht="white",vi=ue.grey500,wi=ue.grey600,ki=ue.grey500,Ci=ue.grey400,Si="white",Oi=ue.grey900,Ti=ue.grey800,Di=ue.grey700,nt={darkMode:!1,textStyle:{fontFamily:"sans-serif"},grid:{left:"0%",right:"4%",bottom:"0%",top:"15%",containLabel:!0},color:ql,backgroundColor:"rgba(255, 255, 255, 0)",title:{padding:0,itemGap:7,textStyle:{fontSize:14,color:Ti},subtextStyle:{fontSize:13,color:Di,overflow:"break"},top:"0%"},line:{itemStyle:{borderWidth:0},lineStyle:{width:2,join:"round"},symbolSize:0,symbol:"circle",smooth:!1},radar:{itemStyle:{borderWidth:0},lineStyle:{width:2},symbolSize:0,symbol:"circle",smooth:!1},pie:{itemStyle:{borderWidth:0,borderColor:"#cccccc"}},scatter:{itemStyle:{borderWidth:0,borderColor:"#cccccc"}},boxplot:{itemStyle:{borderWidth:1.5}},parallel:{itemStyle:{borderWidth:0,borderColor:"#cccccc"}},sankey:{itemStyle:{borderWidth:0,borderColor:"#cccccc"}},funnel:{itemStyle:{borderWidth:0,borderColor:"#cccccc"}},gauge:{itemStyle:{borderWidth:0,borderColor:"#cccccc"}},candlestick:{itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1}},graph:{itemStyle:{borderWidth:0,borderColor:"#cccccc"},lineStyle:{width:1,color:"#aaaaaa"},symbolSize:0,symbol:"circle",smooth:!1,color:["#923d59","#488f96","#518eca","#b3a9a0","#ffc857","#495867","#bfdbf7","#bc4749","#eeebd0"],label:{color:"#f2f2f2"}},map:{itemStyle:{areaColor:"#eee",borderColor:"#444",borderWidth:.5},label:{color:"#000"},emphasis:{itemStyle:{areaColor:"rgba(255,215,0,0.8)",borderColor:"#444",borderWidth:1},label:{color:"rgb(100,0,0)"}}},geo:{itemStyle:{areaColor:"#eee",borderColor:"#444",borderWidth:.5},label:{color:"#000"},emphasis:{itemStyle:{areaColor:"rgba(255,215,0,0.8)",borderColor:"#444",borderWidth:1},label:{color:"rgb(100,0,0)"}}},categoryAxis:{axisLine:{show:!0,lineStyle:{color:Fe}},axisTick:{show:!1,lineStyle:{color:Qe},length:3,alignWithLabel:!0},axisLabel:{show:!0,color:Be},splitLine:{show:!1,lineStyle:{color:[Ge]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},valueAxis:{axisLine:{show:!1,lineStyle:{color:Fe}},axisTick:{show:!1,lineStyle:{color:Qe},length:2},axisLabel:{show:!0,color:Be},splitLine:{show:!0,lineStyle:{color:[Ge],width:1}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}},nameTextStyle:{backgroundColor:Ht}},logAxis:{axisLine:{show:!1,lineStyle:{color:Fe}},axisTick:{show:!1,lineStyle:{color:Qe},length:2},axisLabel:{show:!0,color:Be},splitLine:{show:!0,lineStyle:{color:[Ge]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}},nameTextStyle:{backgroundColor:Ht}},timeAxis:{axisLine:{show:!0,lineStyle:{color:Fe}},axisTick:{show:!0,lineStyle:{color:Qe},length:3},axisLabel:{show:!0,color:Be},splitLine:{show:!1,lineStyle:{color:[Ge]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},toolbox:{iconStyle:{borderColor:"#999999"},emphasis:{iconStyle:{borderColor:"#459cde"}}},legend:{textStyle:{padding:[0,0,0,-7],color:vi},icon:"circle",pageIcons:{horizontal:["M 17 3 h 2 c 0.386 0 0.738 0.223 0.904 0.572 s 0.115 0.762 -0.13 1.062 L 11.292 15 l 8.482 10.367 c 0.245 0.299 0.295 0.712 0.13 1.062 S 19.386 27 19 27 h -2 c -0.3 0 -0.584 -0.135 -0.774 -0.367 l -9 -11 c -0.301 -0.369 -0.301 -0.898 0 -1.267 l 9 -11 C 16.416 3.135 16.7 3 17 3 Z","M 12 27 h -2 c -0.386 0 -0.738 -0.223 -0.904 -0.572 s -0.115 -0.762 0.13 -1.062 L 17.708 15 L 9.226 4.633 c -0.245 -0.299 -0.295 -0.712 -0.13 -1.062 S 9.614 3 10 3 h 2 c 0.3 0 0.584 0.135 0.774 0.367 l 9 11 c 0.301 0.369 0.301 0.898 0 1.267 l -9 11 C 12.584 26.865 12.3 27 12 27 Z"]},pageIconColor:wi,pageIconSize:12,pageTextStyle:{color:ki},pageButtonItemGap:-2,animationDurationUpdate:300},tooltip:{axisPointer:{lineStyle:{color:"#cccccc",width:1},crossStyle:{color:"#cccccc",width:1}},borderRadius:4,borderWidth:1,borderColor:Ci,backgroundColor:Si,textStyle:{color:Oi,fontSize:12,fontWeight:400},padding:6},timeline:{lineStyle:{color:"#e3e3e3",width:2},itemStyle:{color:"#d6d6d6",borderWidth:1},controlStyle:{color:"#bfbfbf",borderColor:"#bfbfbf",borderWidth:1},checkpointStyle:{color:"#8f8f8f",borderColor:"#ffffff"},label:{color:"#c9c9c9"},emphasis:{itemStyle:{color:"#9c9c9c"},controlStyle:{color:"#bfbfbf",borderColor:"#bfbfbf",borderWidth:1},label:{color:"#c9c9c9"}}},visualMap:{color:["#c41621","#e39588","#f5ed98"]},dataZoom:{handleSize:"undefined%",textStyle:{}},markPoint:{label:{color:"#f2f2f2"},emphasis:{label:{color:"#f2f2f2"}}}},qe=500,Ei=(r,e)=>{const t=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)&&r.clientWidth*3*r.clientHeight*3>16777215;lt("evidence-light",nt);const l=it(r,"evidence-light",{renderer:t?"svg":e.renderer??"canvas"});e.connectGroup&&(l.group=e.connectGroup,_l(e.connectGroup));const i=()=>{if(e.seriesColors){const _=l.getOption();if(!_)return;const u={..._};for(const g of Object.keys(e.seriesColors)){const w=_.series.findIndex(D=>D.name===g);w!==-1&&(u.series[w]={...u.series[w],itemStyle:{...u.series[w].itemStyle,color:e.seriesColors[g]}})}l.setOption(u)}},n=()=>{e.echartsOptions&&l.setOption({...e.echartsOptions})},o=()=>{let _=[];if(e.seriesOptions){const u=e.config.series.reduce((g,{evidenceSeriesType:w},D)=>((w==="reference_line"||w==="reference_area"||w==="reference_point")&&g.push(D),g),[]);for(let g=0;g<e.config.series.length;g++)u.includes(g)?_.push({}):_.push({...e.seriesOptions});l.setOption({series:_})}};l.setOption({...e.config,animationDuration:qe,animationDurationUpdate:qe}),i(),n(),o();const a=e.dispatch;l.on("click",function(_){a("click",_)});const s=document.getElementById("evidence-main-article"),f=r.parentElement,c=bl(()=>{l.resize({animation:{duration:qe}}),h()},100);let d;window.ResizeObserver&&s?(d=new ResizeObserver(c),d.observe(s),d.observe(f)):window.addEventListener("resize",c);const h=()=>{if(e.showAllXAxisLabels){const _=l.getOption();if(!_)return;const u=new Set(_.series.flatMap(D=>{var S;return(S=D.data)==null?void 0:S.map(I=>I[0])})),g=4/5,w=(r==null?void 0:r.clientWidth)??0;if(!e.swapXY){const D={xAxis:{axisLabel:{interval:0,overflow:"truncate",width:w*g/u.size}}};l.setOption(D)}}},b=_=>{e=_,l.setOption({...e.config,animationDuration:qe,animationDurationUpdate:qe},!0),i(),n(),o(),l.resize({animation:{duration:qe}}),h()};return c(),{update(_){b(_)},destroy(){d?(d.unobserve(s),d.unobserve(f)):window.removeEventListener("resize",c),l.dispose()}}},Ii=(r,e)=>{lt("evidence-light",nt);const t=it(r,"evidence-light",{renderer:"canvas"});e.config.animation=!1,t.setOption(e.config);const l=()=>{if(e.seriesColors){const f=t.getOption();if(!f)return;const c={...f};for(const d of Object.keys(e.seriesColors)){const h=f.series.findIndex(b=>b.name===d);h!==-1&&(c.series[h]={...c.series[h],itemStyle:{...c.series[h].itemStyle,color:e.seriesColors[d]}})}t.setOption(c)}},i=()=>{e.echartsOptions&&t.setOption({...e.echartsOptions})},n=()=>{let f=[];if(e.seriesOptions){const c=e.config.series.reduce((d,{evidenceSeriesType:h},b)=>((h==="reference_line"||h==="reference_area"||h==="reference_point")&&d.push(b),d),[]);for(let d=0;d<e.config.series.length;d++)c.includes(d)?f.push({}):f.push({...e.seriesOptions});t.setOption({series:f})}};i(),l(),n();let o=t.getConnectedDataURL({type:"png",pixelRatio:3,backgroundColor:"white",excludeComponents:["toolbox"]});const a=new Date,s=new Date(a.getTime()-a.getTimezoneOffset()*6e4).toISOString().slice(0,19).replaceAll(":","-");return pl(o,(e.evidenceChartTitle??e.queryID??"evidence-chart")+`_${s}.png`),t.dispose(),{destroy(){t.dispose()}}},Pe=(r,e)=>{lt("evidence-light",nt);const{config:t,ratio:l,echartsOptions:i,seriesOptions:n,seriesColors:o,isMap:a,extraHeight:s,width:f}=e;let c={renderer:"canvas"};a&&(c.height=f*.5+s,r&&r.parentNode&&(r.style.height=c.height+"px",r.parentNode.style.height=c.height+"px"));const d=it(r,"evidence-light",c);t.animation=!1,d.setOption(t),i&&d.setOption(i);const h=()=>{if(o){const g=d.getOption();if(!g)return;const w={...g};for(const D of Object.keys(o)){const S=g.series.findIndex(I=>I.name===D);S!==-1&&(w.series[S]={...w.series[S],itemStyle:{...w.series[S].itemStyle,color:o[D]}})}d.setOption(w)}},b=()=>{i&&d.setOption({...i})},_=()=>{let g=[];if(n){const w=t.series.reduce((D,{evidenceSeriesType:S},I)=>((S==="reference_line"||S==="reference_area"||S==="reference_point")&&D.push(I),D),[]);for(let D=0;D<t.series.length;D++)w.includes(D)?g.push({}):g.push({...n});d.setOption({series:g})}};b(),h(),_();let u=d.getConnectedDataURL({type:"jpeg",pixelRatio:l,backgroundColor:"#fff",excludeComponents:["toolbox"]});r.innerHTML=`<img src=${u} width="100%" style="
        position: absolute; 
        top: 0;
        user-select: all;
        -webkit-user-select: all;
        -moz-user-select: all;
        -ms-user-select: all;
    " />`,e.config.animation=!0};function qi(r){let e;function t(n,o){return n[10]?Ni:Mi}let l=t(r),i=l(r);return{c(){i.c(),e=ne()},l(n){i.l(n),e=ne()},m(n,o){i.m(n,o),O(n,e,o)},p(n,o){l===(l=t(n))&&i?i.p(n,o):(i.d(1),i=l(n),i&&(i.c(),i.m(e.parentNode,e)))},d(n){n&&m(e),i.d(n)}}}function Li(r){let e,t,l,i;return{c(){e=L("div"),this.h()},l(n){e=M(n,"DIV",{class:!0,style:!0}),H(e).forEach(m),this.h()},h(){p(e,"class","chart"),C(e,"height",r[1]),C(e,"width",r[2]),C(e,"margin-left","0"),C(e,"margin-top","15px"),C(e,"margin-bottom","10px"),C(e,"overflow","visible"),C(e,"break-inside","avoid")},m(n,o){O(n,e,o),l||(i=De(t=Pe.call(null,e,{config:r[0],ratio:2,echartsOptions:r[5],seriesOptions:r[6],seriesColors:r[7]})),l=!0)},p(n,o){o&2&&C(e,"height",n[1]),o&4&&C(e,"width",n[2]),t&&Ee(t.update)&&o&225&&t.update.call(null,{config:n[0],ratio:2,echartsOptions:n[5],seriesOptions:n[6],seriesColors:n[7]})},d(n){n&&m(e),l=!1,i()}}}function Mi(r){let e,t,l,i,n,o,a;return{c(){e=L("div"),l=j(),i=L("div"),this.h()},l(s){e=M(s,"DIV",{class:!0,style:!0}),H(e).forEach(m),l=z(s),i=M(s,"DIV",{class:!0,style:!0}),H(i).forEach(m),this.h()},h(){p(e,"class","chart md:hidden"),C(e,"height",r[1]),C(e,"width","650px"),C(e,"margin-left","0"),C(e,"margin-top","15px"),C(e,"margin-bottom","10px"),C(e,"overflow","visible"),C(e,"break-inside","avoid"),p(i,"class","chart hidden md:block"),C(i,"height",r[1]),C(i,"width","841px"),C(i,"margin-left","0"),C(i,"margin-top","15px"),C(i,"margin-bottom","10px"),C(i,"overflow","visible"),C(i,"break-inside","avoid")},m(s,f){O(s,e,f),O(s,l,f),O(s,i,f),o||(a=[De(t=Pe.call(null,e,{config:r[0],ratio:4,echartsOptions:r[5],seriesOptions:r[6],seriesColors:r[7],isMap:r[8],extraHeight:r[9],width:650})),De(n=Pe.call(null,i,{config:r[0],ratio:4,echartsOptions:r[5],seriesOptions:r[6],seriesColors:r[7],isMap:r[8],extraHeight:r[9],width:841}))],o=!0)},p(s,f){f&2&&C(e,"height",s[1]),t&&Ee(t.update)&&f&993&&t.update.call(null,{config:s[0],ratio:4,echartsOptions:s[5],seriesOptions:s[6],seriesColors:s[7],isMap:s[8],extraHeight:s[9],width:650}),f&2&&C(i,"height",s[1]),n&&Ee(n.update)&&f&993&&n.update.call(null,{config:s[0],ratio:4,echartsOptions:s[5],seriesOptions:s[6],seriesColors:s[7],isMap:s[8],extraHeight:s[9],width:841})},d(s){s&&(m(e),m(l),m(i)),o=!1,We(a)}}}function Ni(r){let e,t,l,i,n,o,a;return{c(){e=L("div"),l=j(),i=L("div"),this.h()},l(s){e=M(s,"DIV",{class:!0,style:!0}),H(e).forEach(m),l=z(s),i=M(s,"DIV",{class:!0,style:!0}),H(i).forEach(m),this.h()},h(){p(e,"class","chart md:hidden"),C(e,"height",r[1]),C(e,"width",r[12]+"px"),C(e,"margin-left","0"),C(e,"margin-top","15px"),C(e,"margin-bottom","10px"),C(e,"overflow","visible"),C(e,"break-inside","avoid"),p(i,"class","chart hidden md:block"),C(i,"height",r[1]),C(i,"width",r[11]+"px"),C(i,"margin-left","0"),C(i,"margin-top","15px"),C(i,"margin-bottom","10px"),C(i,"overflow","visible"),C(i,"break-inside","avoid")},m(s,f){O(s,e,f),O(s,l,f),O(s,i,f),o||(a=[De(t=Pe.call(null,e,{config:r[0],ratio:4,echartsOptions:r[5],seriesOptions:r[6],seriesColors:r[7],isMap:r[8],extraHeight:r[9],width:r[12]})),De(n=Pe.call(null,i,{config:r[0],ratio:4,echartsOptions:r[5],seriesOptions:r[6],seriesColors:r[7],isMap:r[8],extraHeight:r[9],width:r[11]}))],o=!0)},p(s,f){f&2&&C(e,"height",s[1]),f&4096&&C(e,"width",s[12]+"px"),t&&Ee(t.update)&&f&5089&&t.update.call(null,{config:s[0],ratio:4,echartsOptions:s[5],seriesOptions:s[6],seriesColors:s[7],isMap:s[8],extraHeight:s[9],width:s[12]}),f&2&&C(i,"height",s[1]),f&2048&&C(i,"width",s[11]+"px"),n&&Ee(n.update)&&f&3041&&n.update.call(null,{config:s[0],ratio:4,echartsOptions:s[5],seriesOptions:s[6],seriesColors:s[7],isMap:s[8],extraHeight:s[9],width:s[11]})},d(s){s&&(m(e),m(l),m(i)),o=!1,We(a)}}}function Ai(r){let e;function t(n,o){if(n[3])return Li;if(n[4])return qi}let l=t(r),i=l&&l(r);return{c(){i&&i.c(),e=ne()},l(n){i&&i.l(n),e=ne()},m(n,o){i&&i.m(n,o),O(n,e,o)},p(n,[o]){l===(l=t(n))&&i?i.p(n,o):(i&&i.d(1),i=l&&l(n),i&&(i.c(),i.m(e.parentNode,e)))},i:$,o:$,d(n){n&&m(e),i&&i.d(n)}}}function Hi(r,e,t){let l,i,n,o,{config:a=void 0}=e,{height:s="291px"}=e,{width:f="100%"}=e,{copying:c=!1}=e,{printing:d=!1}=e,{echartsOptions:h=void 0}=e,{seriesOptions:b=void 0}=e,{seriesColors:_=void 0}=e,{isMap:u=!1}=e,{extraHeight:g=void 0}=e,w=!1,D,S;const I=al("gridConfig");return I&&(w=!0,{cols:D,gapWidth:S}=I),r.$$set=E=>{"config"in E&&t(0,a=E.config),"height"in E&&t(1,s=E.height),"width"in E&&t(2,f=E.width),"copying"in E&&t(3,c=E.copying),"printing"in E&&t(4,d=E.printing),"echartsOptions"in E&&t(5,h=E.echartsOptions),"seriesOptions"in E&&t(6,b=E.seriesOptions),"seriesColors"in E&&t(7,_=E.seriesColors),"isMap"in E&&t(8,u=E.isMap),"extraHeight"in E&&t(9,g=E.extraHeight)},r.$$.update=()=>{r.$$.dirty&8192&&t(16,l=Math.min(Number(D),2)),r.$$.dirty&81920&&t(12,i=(650-Number(S)*(l-1))/l),r.$$.dirty&8192&&t(15,n=Math.min(Number(D),3)),r.$$.dirty&49152&&t(11,o=(841-Number(S)*(n-1))/n)},[a,s,f,c,d,h,b,_,u,g,w,o,i,D,S,n,l]}class Pi extends me{constructor(e){super(),ge(this,e,Hi,Ai,he,{config:0,height:1,width:2,copying:3,printing:4,echartsOptions:5,seriesOptions:6,seriesColors:7,isMap:8,extraHeight:9})}}function Wi(r){let e,t,l="Loading...",i,n,o;return{c(){e=L("div"),t=L("span"),t.textContent=l,i=j(),n=L("div"),this.h()},l(a){e=M(a,"DIV",{role:!0,class:!0});var s=H(e);t=M(s,"SPAN",{class:!0,"data-svelte-h":!0}),Te(t)!=="svelte-1wtojot"&&(t.textContent=l),i=z(s),n=M(s,"DIV",{class:!0,style:!0}),H(n).forEach(m),s.forEach(m),this.h()},h(){p(t,"class","sr-only"),p(n,"class","bg-gray-200 rounded-md dark:bg-gray-400 max-w-[100%]"),C(n,"height",r[0]),C(n,"margin-top","15px"),C(n,"margin-bottom","31px"),p(e,"role","status"),p(e,"class","animate-pulse")},m(a,s){O(a,e,s),q(e,t),q(e,i),q(e,n)},p(a,[s]){s&1&&C(n,"height",a[0])},i(a){a&&(o||Oe(()=>{o=tt(e,Il,{}),o.start()}))},o:$,d(a){a&&m(e)}}}function Ri(r,e,t){let{height:l="231px"}=e;return r.$$set=i=>{"height"in i&&t(0,l=i.height)},[l]}class Vi extends me{constructor(e){super(),ge(this,e,Ri,Wi,he,{height:0})}}function Pt(r){let e,t,l,i;const n=[zi,ji],o=[];function a(s,f){return 1}return e=a(),t=o[e]=n[e](r),{c(){t.c(),l=ne()},l(s){t.l(s),l=ne()},m(s,f){o[e].m(s,f),O(s,l,f),i=!0},p(s,f){t.p(s,f)},i(s){i||(T(t),i=!0)},o(s){A(t),i=!1},d(s){s&&m(l),o[e].d(s)}}}function ji(r){let e,t,l,i;return{c(){e=L("div"),this.h()},l(n){e=M(n,"DIV",{class:!0,style:!0}),H(e).forEach(m),this.h()},h(){p(e,"class","chart svelte-19r8f8"),C(e,"height",r[3]),C(e,"width",r[4]),C(e,"margin-left","0"),C(e,"margin-top","15px"),C(e,"margin-bottom","10px"),C(e,"overflow","visible"),C(e,"display",r[15]?"none":"inherit")},m(n,o){O(n,e,o),l||(i=De(t=Ei.call(null,e,{config:r[0],...r[19],echartsOptions:r[9],seriesOptions:r[10],dispatch:r[18],renderer:r[6],connectGroup:r[13],seriesColors:r[12]})),l=!0)},p(n,o){o&8&&C(e,"height",n[3]),o&16&&C(e,"width",n[4]),o&32768&&C(e,"display",n[15]?"none":"inherit"),t&&Ee(t.update)&&o&538177&&t.update.call(null,{config:n[0],...n[19],echartsOptions:n[9],seriesOptions:n[10],dispatch:n[18],renderer:n[6],connectGroup:n[13],seriesColors:n[12]})},i:$,o:$,d(n){n&&m(e),l=!1,i()}}}function zi(r){let e,t;return e=new Vi({props:{height:r[3]}}),{c(){X(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){K(e,l,i),t=!0},p(l,i){const n={};i&8&&(n.height=l[3]),e.$set(n)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Wt(r){let e,t,l,i=r[8]&&Rt(r),n=r[5]&&r[7]&&Vt(r);return{c(){e=L("div"),i&&i.c(),t=j(),n&&n.c(),this.h()},l(o){e=M(o,"DIV",{class:!0});var a=H(e);i&&i.l(a),t=z(a),n&&n.l(a),a.forEach(m),this.h()},h(){p(e,"class","chart-footer svelte-19r8f8")},m(o,a){O(o,e,a),i&&i.m(e,null),q(e,t),n&&n.m(e,null),l=!0},p(o,a){o[8]?i?(i.p(o,a),a&256&&T(i,1)):(i=Rt(o),i.c(),T(i,1),i.m(e,t)):i&&(ae(),A(i,1,1,()=>{i=null}),fe()),o[5]&&o[7]?n?(n.p(o,a),a&160&&T(n,1)):(n=Vt(o),n.c(),T(n,1),n.m(e,null)):n&&(ae(),A(n,1,1,()=>{n=null}),fe())},i(o){l||(T(i),T(n),l=!0)},o(o){A(i),A(n),l=!1},d(o){o&&m(e),i&&i.d(),n&&n.d()}}}function Rt(r){let e,t;return e=new rt({props:{text:"Save Image",class:"download-button",downloadData:r[25],display:r[17],queryID:r[1],$$slots:{default:[Ui]},$$scope:{ctx:r}}}),{c(){X(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){K(e,l,i),t=!0},p(l,i){const n={};i&16384&&(n.downloadData=l[25]),i&131072&&(n.display=l[17]),i&2&&(n.queryID=l[1]),i&268435456&&(n.$$scope={dirty:i,ctx:l}),e.$set(n)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Ui(r){let e,t,l,i;return{c(){e=ze("svg"),t=ze("rect"),l=ze("circle"),i=ze("path"),this.h()},l(n){e=Ue(n,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var o=H(e);t=Ue(o,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),H(t).forEach(m),l=Ue(o,"circle",{cx:!0,cy:!0,r:!0}),H(l).forEach(m),i=Ue(o,"path",{d:!0}),H(i).forEach(m),o.forEach(m),this.h()},h(){p(t,"x","3"),p(t,"y","3"),p(t,"width","18"),p(t,"height","18"),p(t,"rx","2"),p(l,"cx","8.5"),p(l,"cy","8.5"),p(l,"r","1.5"),p(i,"d","M20.4 14.5L16 10 4 20"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width","12"),p(e,"height","12"),p(e,"viewBox","0 0 24 24"),p(e,"fill","none"),p(e,"stroke","#000"),p(e,"stroke-width","2"),p(e,"stroke-linecap","round"),p(e,"stroke-linejoin","round")},m(n,o){O(n,e,o),q(e,t),q(e,l),q(e,i)},p:$,d(n){n&&m(e)}}}function Vt(r){let e,t;return e=new rt({props:{text:"Download Data",data:r[5],queryID:r[1],class:"download-button",display:r[17]}}),{c(){X(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){K(e,l,i),t=!0},p(l,i){const n={};i&32&&(n.data=l[5]),i&2&&(n.queryID=l[1]),i&131072&&(n.display=l[17]),e.$set(n)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function jt(r){let e,t;return e=new Ll({props:{source:JSON.stringify(r[0],void 0,3),copyToClipboard:!0,$$slots:{default:[Fi]},$$scope:{ctx:r}}}),{c(){X(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){K(e,l,i),t=!0},p(l,i){const n={};i&1&&(n.source=JSON.stringify(l[0],void 0,3)),i&268435457&&(n.$$scope={dirty:i,ctx:l}),e.$set(n)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Fi(r){let e=JSON.stringify(r[0],void 0,3)+"",t;return{c(){t=B(e)},l(l){t=G(l,e)},m(l,i){O(l,t,i)},p(l,i){i&1&&e!==(e=JSON.stringify(l[0],void 0,3)+"")&&te(t,e)},d(l){l&&m(t)}}}function zt(r){let e,t,l,i;return{c(){e=L("div"),this.h()},l(n){e=M(n,"DIV",{class:!0,style:!0}),H(e).forEach(m),this.h()},h(){p(e,"class","chart svelte-19r8f8"),C(e,"display","none"),C(e,"visibility","visible"),C(e,"height",r[3]),C(e,"width","666px"),C(e,"margin-left","0"),C(e,"margin-top","15px"),C(e,"margin-bottom","15px"),C(e,"overflow","visible")},m(n,o){O(n,e,o),l||(i=De(t=Ii.call(null,e,{config:r[0],...r[19],echartsOptions:r[9],seriesOptions:r[10],seriesColors:r[12],queryID:r[1],evidenceChartTitle:r[2]})),l=!0)},p(n,o){o&8&&C(e,"height",n[3]),t&&Ee(t.update)&&o&529927&&t.update.call(null,{config:n[0],...n[19],echartsOptions:n[9],seriesOptions:n[10],seriesColors:n[12],queryID:n[1],evidenceChartTitle:n[2]})},d(n){n&&m(e),l=!1,i()}}}function Qi(r){let e,t,l,i,n,o,a,s,f,c,d=!r[16]&&Pt(r);l=new Pi({props:{config:r[0],height:r[3],width:r[4],copying:r[15],printing:r[16],echartsOptions:r[9],seriesOptions:r[10],seriesColors:r[12]}});let h=(r[7]||r[8])&&Wt(r),b=r[11]&&!r[16]&&jt(r),_=r[14]&&zt(r);return{c(){e=L("div"),d&&d.c(),t=j(),X(l.$$.fragment),i=j(),h&&h.c(),n=j(),b&&b.c(),o=j(),_&&_.c(),a=ne(),this.h()},l(u){e=M(u,"DIV",{role:!0,class:!0});var g=H(e);d&&d.l(g),t=z(g),Z(l.$$.fragment,g),i=z(g),h&&h.l(g),n=z(g),b&&b.l(g),g.forEach(m),o=z(u),_&&_.l(u),a=ne(),this.h()},h(){p(e,"role","none"),p(e,"class","chart-container svelte-19r8f8")},m(u,g){O(u,e,g),d&&d.m(e,null),q(e,t),K(l,e,null),q(e,i),h&&h.m(e,null),q(e,n),b&&b.m(e,null),O(u,o,g),_&&_.m(u,g),O(u,a,g),s=!0,f||(c=[re(window,"copy",r[20]),re(window,"beforeprint",r[21]),re(window,"afterprint",r[22]),re(window,"export-beforeprint",r[23]),re(window,"export-afterprint",r[24]),re(e,"mouseenter",r[26]),re(e,"mouseleave",r[27])],f=!0)},p(u,[g]){u[16]?d&&(ae(),A(d,1,1,()=>{d=null}),fe()):d?(d.p(u,g),g&65536&&T(d,1)):(d=Pt(u),d.c(),T(d,1),d.m(e,t));const w={};g&1&&(w.config=u[0]),g&8&&(w.height=u[3]),g&16&&(w.width=u[4]),g&32768&&(w.copying=u[15]),g&65536&&(w.printing=u[16]),g&512&&(w.echartsOptions=u[9]),g&1024&&(w.seriesOptions=u[10]),g&4096&&(w.seriesColors=u[12]),l.$set(w),u[7]||u[8]?h?(h.p(u,g),g&384&&T(h,1)):(h=Wt(u),h.c(),T(h,1),h.m(e,n)):h&&(ae(),A(h,1,1,()=>{h=null}),fe()),u[11]&&!u[16]?b?(b.p(u,g),g&67584&&T(b,1)):(b=jt(u),b.c(),T(b,1),b.m(e,null)):b&&(ae(),A(b,1,1,()=>{b=null}),fe()),u[14]?_?_.p(u,g):(_=zt(u),_.c(),_.m(a.parentNode,a)):_&&(_.d(1),_=null)},i(u){s||(T(d),T(l.$$.fragment,u),T(h),T(b),s=!0)},o(u){A(d),A(l.$$.fragment,u),A(h),A(b),s=!1},d(u){u&&(m(e),m(o),m(a)),d&&d.d(),J(l),h&&h.d(),b&&b.d(),_&&_.d(u),f=!1,We(c)}}}function Bi(r,e,t){const l=["config","queryID","evidenceChartTitle","height","width","data","renderer","downloadableData","downloadableImage","echartsOptions","seriesOptions","printEchartsConfig","seriesColors","connectGroup"];let i=at(e,l),{config:n=void 0}=e,{queryID:o=void 0}=e,{evidenceChartTitle:a=void 0}=e,{height:s="291px"}=e,{width:f="100%"}=e,{data:c}=e,{renderer:d=void 0}=e,{downloadableData:h=void 0}=e,{downloadableImage:b=void 0}=e,{echartsOptions:_=void 0}=e,{seriesOptions:u=void 0}=e,{printEchartsConfig:g}=e,{seriesColors:w=void 0}=e,{connectGroup:D=void 0}=e;const S=fl();let I=!1,E=!1,F=!1,R=!1;const y=()=>{t(15,E=!0),ul(),setTimeout(()=>{t(15,E=!1)},0)},v=()=>t(16,F=!0),P=()=>t(16,F=!1),x=()=>t(16,F=!0),U=()=>t(16,F=!1),oe=()=>{t(14,I=!0),setTimeout(()=>{t(14,I=!1)},0)},Q=()=>t(17,R=!0),ce=()=>t(17,R=!1);return r.$$set=W=>{e=He(He({},e),et(W)),t(19,i=at(e,l)),"config"in W&&t(0,n=W.config),"queryID"in W&&t(1,o=W.queryID),"evidenceChartTitle"in W&&t(2,a=W.evidenceChartTitle),"height"in W&&t(3,s=W.height),"width"in W&&t(4,f=W.width),"data"in W&&t(5,c=W.data),"renderer"in W&&t(6,d=W.renderer),"downloadableData"in W&&t(7,h=W.downloadableData),"downloadableImage"in W&&t(8,b=W.downloadableImage),"echartsOptions"in W&&t(9,_=W.echartsOptions),"seriesOptions"in W&&t(10,u=W.seriesOptions),"printEchartsConfig"in W&&t(11,g=W.printEchartsConfig),"seriesColors"in W&&t(12,w=W.seriesColors),"connectGroup"in W&&t(13,D=W.connectGroup)},[n,o,a,s,f,c,d,h,b,_,u,g,w,D,I,E,F,R,S,i,y,v,P,x,U,oe,Q,ce]}class Gi extends me{constructor(e){super(),ge(this,e,Bi,Qi,he,{config:0,queryID:1,evidenceChartTitle:2,height:3,width:4,data:5,renderer:6,downloadableData:7,downloadableImage:8,echartsOptions:9,seriesOptions:10,printEchartsConfig:11,seriesColors:12,connectGroup:13})}}function Ye(r,e){const t=new Set(r.map(l=>l[e]));return Array.from(t)}function Yi(r){let e=[];for(let t=1;t<r.length;t++)e.push(r[t]-r[t-1]);return e}function ll(r,e){return(typeof r!="number"||isNaN(r))&&(r=0),(typeof e!="number"||isNaN(e))&&(e=0),r=Math.abs(r),e=Math.abs(e),e<=.01?r:ll(e,r%e)}function Xi(r,e){if(!Array.isArray(r))throw new TypeError("Cannot calculate extent of non-array value.");let t,l;for(const i of r)typeof i=="number"&&(t===void 0?i>=i&&(t=l=i):(t>i&&(t=i),l<i&&(l=i)));return[t,l]}function Zi(r,e){let[t,l]=Xi(r);const i=[];let n=t;for(;n<=l;)i.push(Math.round((n+Number.EPSILON)*1e8)/1e8),n+=e;return i}function Ki(r){if(r.length<=1)return;r.sort(function(t,l){return t-l}),r=r.map(function(t){return t*1e8}),r=Yi(r);let e=r.reduce((t,l)=>ll(t,l))/1e8;return e=Math.round((e+Number.EPSILON)*1e8)/1e8,e}function Ji(r,e,t,l,i=!1,n=!1){var b;let o=!1;const a=r.map(_=>Object.assign({},_,{[e]:_[e]instanceof Date?(o=!0,_[e].toISOString()):_[e]})).filter(_=>_[e]!==void 0&&_[e]!==null),s=Array.from(a).reduce((_,u)=>(u[e]instanceof Date&&(u[e]=u[e].toISOString(),o=!0),l?(_[u[l]??"null"]||(_[u[l]??"null"]=[]),_[u[l]??"null"].push(u)):(_.default||(_.default=[]),_.default.push(u)),_),{}),f={};let c;const d=((b=a.find(_=>_&&_[e]!==null&&_[e]!==void 0))==null?void 0:b[e])??null;switch(typeof d){case"object":throw d===null?new Error(`Column '${e}' is entirely null. Column must contain at least one non-null value.`):new Error("Unexpected object property, expected string, date, or number");case"number":if(c=Ye(a,e),n){const _=Ki(c);f[e]=Zi(c,_)}break;case"string":c=Ye(a,e),f[e]=c;break}const h=[];for(const _ of Object.values(s)){const u=l?{[l]:null}:{};if(i)if(t instanceof Array)for(let w=0;w<t.length;w++)u[t[w]]=0;else u[t]=0;else if(t instanceof Array)for(let w=0;w<t.length;w++)u[t[w]]=null;else u[t]=null;l&&(f[l]=l);const g=[];Object.keys(f).length===0?g.push(gt([e],u)):g.push(gt(f,u)),h.push(Ol(_,...g))}return o?h.flat().map(_=>({..._,[e]:new Date(_[e])})):h.flat()}function Ut(r,e,t,l="asc"){let i=[...r];e!==t&&t&&i.sort((o,a)=>{const s=o[t],f=a[t];return s===void 0?1:f===void 0?-1:(s<f?-1:s>f?1:0)*(l==="asc"?1:-1)});let n=[...new Set(i.map(o=>o[e]).filter(o=>o!==void 0))];return e===t&&n.sort((o,a)=>(o<a?-1:o>a?1:0)*(l==="asc"?1:-1)),n}function xi(r){let e,t;return e=new Gi({props:{data:r[0],queryID:r[2],config:r[11],height:r[12],echartsOptions:r[4],seriesOptions:r[5],printEchartsConfig:r[1],evidenceChartTitle:r[3],renderer:r[6],downloadableData:r[7],downloadableImage:r[8],connectGroup:r[9]}}),{c(){X(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){K(e,l,i),t=!0},p(l,i){const n={};i[0]&1&&(n.data=l[0]),i[0]&4&&(n.queryID=l[2]),i[0]&2048&&(n.config=l[11]),i[0]&4096&&(n.height=l[12]),i[0]&16&&(n.echartsOptions=l[4]),i[0]&32&&(n.seriesOptions=l[5]),i[0]&2&&(n.printEchartsConfig=l[1]),i[0]&8&&(n.evidenceChartTitle=l[3]),i[0]&64&&(n.renderer=l[6]),i[0]&128&&(n.downloadableData=l[7]),i[0]&256&&(n.downloadableImage=l[8]),i[0]&512&&(n.connectGroup=l[9]),e.$set(n)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function $i(r){let e,t;return e=new $t({props:{chartType:"Heatmap",error:r[10]}}),{c(){X(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){K(e,l,i),t=!0},p(l,i){const n={};i[0]&1024&&(n.error=l[10]),e.$set(n)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function er(r){let e,t,l,i;const n=[$i,xi],o=[];function a(s,f){return s[10]?0:1}return e=a(r),t=o[e]=n[e](r),{c(){t.c(),l=ne()},l(s){t.l(s),l=ne()},m(s,f){o[e].m(s,f),O(s,l,f),i=!0},p(s,f){let c=e;e=a(s),e===c?o[e].p(s,f):(ae(),A(o[c],1,1,()=>{o[c]=null}),fe(),t=o[e],t?t.p(s,f):(t=o[e]=n[e](s),t.c()),T(t,1),t.m(l.parentNode,l))},i(s){i||(T(t),i=!0)},o(s){A(t),i=!1},d(s){s&&m(l),o[e].d(s)}}}function tr(r,e,t,l){return r.map(i=>[`${i[e]}`,`${i[t]}`,i[l]])}function lr(r,e,t){let l,i,{data:n}=e,{queryID:o}=e,{x:a}=e,{y:s}=e,{xSort:f=void 0}=e,{xSortOrder:c="asc"}=e,{ySort:d=void 0}=e,{ySortOrder:h="asc"}=e,{value:b}=e,{valueFmt:_}=e,{valueLabels:u=!0}=e,{mobileValueLabels:g=!1}=e,{xAxisPosition:w="top"}=e,{xTickMarks:D=!1}=e,{yTickMarks:S=!1}=e,{title:I=void 0}=e,{subtitle:E=void 0}=e,F=I!==void 0,R=E!==void 0,{borders:y=!0}=e,{legend:v=!0}=e,{filter:P=!1}=e,{colorPalette:x=void 0}=e,{min:U=void 0}=e,{max:oe=void 0}=e,{chartAreaHeight:Q=void 0}=e,{xLabelRotation:ce=void 0}=e,{echartsOptions:W=void 0}=e,{seriesOptions:le=void 0}=e,{printEchartsConfig:N=!1}=e,{leftPadding:ee=0}=e,{rightPadding:Y=2}=e,{cellHeight:V=30}=e,{renderer:ie=void 0}=e,{downloadableData:pe=void 0}=e,{downloadableImage:ye=void 0}=e,{connectGroup:Me=void 0}=e,{nullsZero:Ie=!0}=e,{zeroDisplay:se="—"}=e,Xe,Re,Ze,Ke,ve,Ne,Je,Ve,je,ot;return r.$$set=k=>{"data"in k&&t(0,n=k.data),"queryID"in k&&t(2,o=k.queryID),"x"in k&&t(23,a=k.x),"y"in k&&t(24,s=k.y),"xSort"in k&&t(25,f=k.xSort),"xSortOrder"in k&&t(26,c=k.xSortOrder),"ySort"in k&&t(27,d=k.ySort),"ySortOrder"in k&&t(28,h=k.ySortOrder),"value"in k&&t(29,b=k.value),"valueFmt"in k&&t(30,_=k.valueFmt),"valueLabels"in k&&t(13,u=k.valueLabels),"mobileValueLabels"in k&&t(14,g=k.mobileValueLabels),"xAxisPosition"in k&&t(31,w=k.xAxisPosition),"xTickMarks"in k&&t(15,D=k.xTickMarks),"yTickMarks"in k&&t(16,S=k.yTickMarks),"title"in k&&t(3,I=k.title),"subtitle"in k&&t(32,E=k.subtitle),"borders"in k&&t(17,y=k.borders),"legend"in k&&t(18,v=k.legend),"filter"in k&&t(19,P=k.filter),"colorPalette"in k&&t(33,x=k.colorPalette),"min"in k&&t(20,U=k.min),"max"in k&&t(21,oe=k.max),"chartAreaHeight"in k&&t(22,Q=k.chartAreaHeight),"xLabelRotation"in k&&t(34,ce=k.xLabelRotation),"echartsOptions"in k&&t(4,W=k.echartsOptions),"seriesOptions"in k&&t(5,le=k.seriesOptions),"printEchartsConfig"in k&&t(1,N=k.printEchartsConfig),"leftPadding"in k&&t(35,ee=k.leftPadding),"rightPadding"in k&&t(36,Y=k.rightPadding),"cellHeight"in k&&t(37,V=k.cellHeight),"renderer"in k&&t(6,ie=k.renderer),"downloadableData"in k&&t(7,pe=k.downloadableData),"downloadableImage"in k&&t(8,ye=k.downloadableImage),"connectGroup"in k&&t(9,Me=k.connectGroup),"nullsZero"in k&&t(38,Ie=k.nullsZero),"zeroDisplay"in k&&t(39,se=k.zeroDisplay)},r.$$.update=()=>{if(r.$$.dirty[0]&8192&&t(13,u=u==="true"||u===!0),r.$$.dirty[0]&16384&&t(14,g=g==="true"||g===!0),r.$$.dirty[0]&32768&&t(15,D=D==="true"||D===!0),r.$$.dirty[0]&65536&&t(16,S=S==="true"||S===!0),r.$$.dirty[0]&131072&&t(17,y=y==="true"||y===!0),r.$$.dirty[0]&262144&&t(18,v=v==="true"||v===!0),r.$$.dirty[0]&524288&&t(19,P=P==="true"||P===!0),r.$$.dirty[0]&2&&t(1,N=N==="true"||N===!0),r.$$.dirty[0]&2147476489|r.$$.dirty[1]&262143)try{if(Ml(n,[a,s,b]),t(0,n=Ji(n,a,b,s,Ie)),U&&(t(20,U=Number(U)),isNaN(U)))throw Error("min must be a number");if(oe&&(t(21,oe=Number(oe)),isNaN(oe)))throw Error("max must be a number");if(t(46,Ve=U??Math.min(...n.map(k=>k[b]))),t(47,je=oe??Math.max(...n.map(k=>k[b]))),t(40,Xe=f?Ut(n,a,f,c):Ye(n,a)),t(41,Re=d?Ut(n,s,d,h):Ye(n,s)),t(42,Ze=tr(n,a,s,b)),t(45,Ne=xt(n)),Ne[a].type==="date"||Ne[s].type==="date")throw Error("Heatmap can only accept string or numeric columns for x and y. If you would like to show dates, cast them to strings in your SQL query before using in the Heatmap.");if(t(43,Ke=Ne[b].format),t(44,ve=_?Tl(_):Ke),Q){if(t(22,Q=Number(Q)),isNaN(Q))throw Error("chartAreaHeight must be a number");if(Q<=0)throw Error("chartAreaHeight must be a positive number")}t(48,i=Q??Math.max(100,Re.length*V)),t(12,l=`${20+v*35+F*18+R*18+i}px`),t(11,ot={textStyle:{fontFamily:"sans-serif"},title:{text:I,subtext:E},animation:!1,grid:{height:i,top:F*20+R*20+8,left:ee,right:Y},xAxis:{type:"category",data:Xe,splitArea:{show:!0},axisTick:{show:D,alignWithLabel:!1},axisLabel:{interval:0,hideOverlap:!0,rotate:ce},position:w},yAxis:{type:"category",inverse:!0,data:Re,splitArea:{show:!0},axisTick:{show:S,alignWithLabel:!1}},tooltip:{trigger:"item",showDelay:0,transitionDuration:.2,confine:!0,axisPointer:{type:"shadow"},formatter(k){return`
					<span id="tooltip" style='font-weight: 600;'>${k.value[1]}</span>
						<br/>
					<span id="tooltip" style='font-weight: 600;'>${k.name}</span>
						<br/>
						<span>${Nl(b,ve)}: </span>
							<span style='float:right; margin-left: 10px;'>${k.value[2]===0?se:de(Number.isNaN(k.value[2])?0:k.value[2],ve)}</span>`},padding:6,borderRadius:4,borderWidth:1,borderColor:ue.grey400,backgroundColor:"white",extraCssText:"box-shadow: 0 3px 6px rgba(0,0,0,.15); box-shadow: 0 2px 4px rgba(0,0,0,.12); z-index: 1;",textStyle:{color:ue.grey900,fontSize:12,fontWeight:400},order:"valueDesc"},visualMap:{itemWidth:10,show:v,min:Ve,max:je,calculable:P,orient:"horizontal",left:"center",bottom:"0%",handleStyle:{borderColor:ue.grey200},inRange:{color:x??["rgb(254,234,159)","rgb(218,66,41)"]},text:P?void 0:[de(je,ve),de(Ve,ve)],formatter(k){return de(k,ve)}},series:[{type:"heatmap",data:Ze,label:{show:u,formatter(k){return k.value[2]===0?se:de(k.value[2],ve)}},labelLayout:{hideOverlap:!0},itemStyle:{borderColor:ue.grey400,borderWidth:y?.5:0}}],media:[{query:{maxWidth:400},option:{series:{label:{show:g}}}},{query:{minWidth:400},option:{series:{label:{show:u}}}}]})}catch(k){if(t(10,Je=k.message),console.error("Error in Heatmap: "+k.message),Al)throw Je}r.$$.dirty[0]&6145},t(12,l=void 0),t(48,i=void 0),[n,N,o,I,W,le,ie,pe,ye,Me,Je,ot,l,u,g,D,S,y,v,P,U,oe,Q,a,s,f,c,d,h,b,_,w,E,x,ce,ee,Y,V,Ie,se,Xe,Re,Ze,Ke,ve,Ne,Ve,je,i]}class ir extends me{constructor(e){super(),ge(this,e,lr,er,he,{data:0,queryID:2,x:23,y:24,xSort:25,xSortOrder:26,ySort:27,ySortOrder:28,value:29,valueFmt:30,valueLabels:13,mobileValueLabels:14,xAxisPosition:31,xTickMarks:15,yTickMarks:16,title:3,subtitle:32,borders:17,legend:18,filter:19,colorPalette:33,min:20,max:21,chartAreaHeight:22,xLabelRotation:34,echartsOptions:4,seriesOptions:5,printEchartsConfig:1,leftPadding:35,rightPadding:36,cellHeight:37,renderer:6,downloadableData:7,downloadableImage:8,connectGroup:9,nullsZero:38,zeroDisplay:39},null,[-1,-1])}}function rr(r){let e;const t=r[6].default,l=Qt(t,r,r[7],null);return{c(){l&&l.c()},l(i){l&&l.l(i)},m(i,n){l&&l.m(i,n),e=!0},p(i,n){l&&l.p&&(!e||n&128)&&Bt(l,t,i,i[7],e?Yt(t,i[7],n,null):Gt(i[7]),null)},i(i){e||(T(l,i),e=!0)},o(i){A(l,i),e=!1},d(i){l&&l.d(i)}}}function nr(r){let e,t;const l=[r[4],{data:be.isQuery(r[10])?Array.from(r[10]):r[10]},{queryID:r[5]}];let i={$$slots:{default:[rr]},$$scope:{ctx:r}};for(let n=0;n<l.length;n+=1)i=He(i,l[n]);return e=new ir({props:i}),{c(){X(e.$$.fragment)},l(n){Z(e.$$.fragment,n)},m(n,o){K(e,n,o),t=!0},p(n,o){const a=o&1072?yl(l,[o&16&&vl(n[4]),o&1024&&{data:be.isQuery(n[10])?Array.from(n[10]):n[10]},o&32&&{queryID:n[5]}]):{};o&128&&(a.$$scope={dirty:o,ctx:n}),e.$set(a)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function or(r){let e,t;return e=new Pl({props:{slot:"empty",emptyMessage:r[2],emptySet:r[1],chartType:il,isInitial:r[3]}}),{c(){X(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){K(e,l,i),t=!0},p(l,i){const n={};i&4&&(n.emptyMessage=l[2]),i&2&&(n.emptySet=l[1]),i&8&&(n.isInitial=l[3]),e.$set(n)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function sr(r){let e,t;return e=new $t({props:{slot:"error",chartType:il,error:r[10].error.message}}),{c(){X(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){K(e,l,i),t=!0},p(l,i){const n={};i&1024&&(n.error=l[10].error.message),e.$set(n)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function ar(r){let e,t;return e=new Hl({props:{data:r[0],$$slots:{error:[sr,({loaded:l})=>({10:l}),({loaded:l})=>l?1024:0],empty:[or],default:[nr,({loaded:l})=>({10:l}),({loaded:l})=>l?1024:0]},$$scope:{ctx:r}}}),{c(){X(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){K(e,l,i),t=!0},p(l,[i]){const n={};i&1&&(n.data=l[0]),i&1182&&(n.$$scope={dirty:i,ctx:l}),e.$set(n)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}let il="Heatmap";function fr(r,e,t){let l,{$$slots:i={},$$scope:n}=e,{data:o}=e;const a=be.isQuery(o)?o.hash:void 0;let s=(o==null?void 0:o.hash)===a,{emptySet:f=void 0}=e,{emptyMessage:c=void 0}=e,d=o==null?void 0:o.id;return r.$$set=h=>{t(9,e=He(He({},e),et(h))),"data"in h&&t(0,o=h.data),"emptySet"in h&&t(1,f=h.emptySet),"emptyMessage"in h&&t(2,c=h.emptyMessage),"$$scope"in h&&t(7,n=h.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&t(3,s=(o==null?void 0:o.hash)===a),t(4,l=Object.fromEntries(Object.entries(e).filter(([,h])=>h!==void 0)))},e=et(e),[o,f,c,s,l,d,i,n]}class ur extends me{constructor(e){super(),ge(this,e,fr,ar,he,{data:0,emptySet:1,emptyMessage:2})}}function cr(r){return{c(){this.h()},l(e){this.h()},h(){document.title="Evidence"},m:$,p:$,d:$}}function Ft(r){let e,t;return e=new yi({props:{queryID:"heatmap_summary",queryResult:r[0]}}),{c(){X(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){K(e,l,i),t=!0},p(l,i){const n={};i&1&&(n.queryResult=l[0]),e.$set(n)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function dr(r){let e;return{c(){e=B("We're building the most comprehensive set of interday metrics for stock analysis in order to help investors avoid violating the Pattern-Day Trading (PDT) rule while growing their account -- and power algorithmic trading strategies using a novel set of data not available elsewhere.")},l(t){e=G(t,"We're building the most comprehensive set of interday metrics for stock analysis in order to help investors avoid violating the Pattern-Day Trading (PDT) rule while growing their account -- and power algorithmic trading strategies using a novel set of data not available elsewhere.")},m(t,l){O(t,e,l)},d(t){t&&m(e)}}}function hr(r){let e,t,l,i,n,o,a,s,f,c,d,h='<a href="#close-vs-previous-day-open">Close vs. Previous Day Open</a>',b,_,u="The heatmap shows whether the stock's close price is greater than the previous day's open price for the last 14 trading days.",g,w,D,S,I;function E(v,P){return cr}let R=E()(r),y=r[0]&&Ft(r);return a=new Xl({props:{title:"About StockStreaks",buttonText:"About Us",$$slots:{default:[dr]},$$scope:{ctx:r}}}),f=new pt({props:{lines:"2"}}),w=new pt({props:{lines:"1"}}),S=new ur({props:{data:r[0],title:"Dow Jones 30",x:"date_label",xSort:"calendar_date",xSortOrder:"desc",xLabelRotation:"-45",y:"ticker",ySort:"ticker",value:"closed_up",valueLabels:"false",colorPalette:["red","white","green"],borders:"false",legend:"false"}}),{c(){e=j(),R.c(),t=L("meta"),l=L("meta"),i=ne(),n=j(),y&&y.c(),o=j(),X(a.$$.fragment),s=j(),X(f.$$.fragment),c=j(),d=L("h1"),d.innerHTML=h,b=j(),_=L("p"),_.textContent=u,g=j(),X(w.$$.fragment),D=j(),X(S.$$.fragment),this.h()},l(v){e=z(v);const P=cl("svelte-1j2izld",document.head);R.l(P),t=M(P,"META",{name:!0,content:!0}),l=M(P,"META",{name:!0,content:!0}),i=ne(),P.forEach(m),n=z(v),y&&y.l(v),o=z(v),Z(a.$$.fragment,v),s=z(v),Z(f.$$.fragment,v),c=z(v),d=M(v,"H1",{class:!0,id:!0,"data-svelte-h":!0}),Te(d)!=="svelte-riqdag"&&(d.innerHTML=h),b=z(v),_=M(v,"P",{class:!0,"data-svelte-h":!0}),Te(_)!=="svelte-rny4ch"&&(_.textContent=u),g=z(v),Z(w.$$.fragment,v),D=z(v),Z(S.$$.fragment,v),this.h()},h(){p(t,"name","twitter:card"),p(t,"content","summary"),p(l,"name","twitter:site"),p(l,"content","@evidence_dev"),p(d,"class","markdown"),p(d,"id","close-vs-previous-day-open"),p(_,"class","markdown")},m(v,P){O(v,e,P),R.m(document.head,null),q(document.head,t),q(document.head,l),q(document.head,i),O(v,n,P),y&&y.m(v,P),O(v,o,P),K(a,v,P),O(v,s,P),K(f,v,P),O(v,c,P),O(v,d,P),O(v,b,P),O(v,_,P),O(v,g,P),K(w,v,P),O(v,D,P),K(S,v,P),I=!0},p(v,[P]){R.p(v,P),v[0]?y?(y.p(v,P),P&1&&T(y,1)):(y=Ft(v),y.c(),T(y,1),y.m(o.parentNode,o)):y&&(ae(),A(y,1,1,()=>{y=null}),fe());const x={};P&1048576&&(x.$$scope={dirty:P,ctx:v}),a.$set(x);const U={};P&1&&(U.data=v[0]),S.$set(U)},i(v){I||(T(y),T(a.$$.fragment,v),T(f.$$.fragment,v),T(w.$$.fragment,v),T(S.$$.fragment,v),I=!0)},o(v){A(y),A(a.$$.fragment,v),A(f.$$.fragment,v),A(w.$$.fragment,v),A(S.$$.fragment,v),I=!1},d(v){v&&(m(e),m(n),m(o),m(s),m(c),m(d),m(b),m(_),m(g),m(D)),R.d(v),m(t),m(l),m(i),y&&y.d(v),J(a,v),J(f,v),J(w,v),J(S,v)}}}function mr(r,e,t){let l,i;Le(r,Kt,I=>t(5,l=I)),Le(r,dt,I=>t(13,i=I));let{data:n}=e,{data:o={},customFormattingSettings:a,__db:s,inputs:f}=n;$e(dt,i="6666cd76f96956469e7be39d750cc7d9",i);let c=Cl(f);ft(Dl,c),dl(c.subscribe(I=>f=I)),ft(El,{getCustomFormats:()=>a.customFormats||[]});const d=(I,E)=>Sl(s.query,I,{query_name:E});wl(d);let h;const b=()=>{h||(h=setTimeout(()=>{ht.add({id:"LoadingToast",title:"",message:"Loading...",status:"info"},0)},3e3))},_=()=>{h?(clearTimeout(h),h=null):ht.dismiss("LoadingToast")};ut(()=>(be.addEventListener("inFlightQueryStart",b),be.addEventListener("inFlightQueryEnd",_),be.QueriesLoading&&b(),()=>{be.removeEventListener("inFlightQueryStart",b),be.removeEventListener("inFlightQueryEnd",_)})),l.params,ut(()=>!0);let u={initialData:void 0,initialError:void 0},g=mt`select
    upper(ticker) as ticker
    , calendar_date
    , strftime(calendar_date, '%b %d') as date_label
    , case when close_vs_yd1_open = 0 then -1 else 1 end as closed_up
    , sum(close_vs_yd1_open) over (partition by ticker) as days_closed_up

from strk.last_14d_performance

where calendar_date > (select min(calendar_date) from strk.last_14d_performance)
    and ticker in (select ticker from strk.unique_tickers where is_dow_30)

order by ticker, calendar_date`,w=`select
    upper(ticker) as ticker
    , calendar_date
    , strftime(calendar_date, '%b %d') as date_label
    , case when close_vs_yd1_open = 0 then -1 else 1 end as closed_up
    , sum(close_vs_yd1_open) over (partition by ticker) as days_closed_up

from strk.last_14d_performance

where calendar_date > (select min(calendar_date) from strk.last_14d_performance)
    and ticker in (select ticker from strk.unique_tickers where is_dow_30)

order by ticker, calendar_date`;o.heatmap_summary&&(o.heatmap_summary instanceof Error?u.initialError=o.heatmap_summary:u.initialData=o.heatmap_summary,o.heatmap_summary__DESCRIBE&&(u.knownColumns=o.heatmap_summary__DESCRIBE));let D;const S=be.createReactive({callback:I=>{t(0,D=I)},execFn:d},{id:"heatmap_summary",...u});return S(w,{noResolve:g}),globalThis[Symbol.for("heatmap_summary")]={get value(){return D}},r.$$set=I=>{"data"in I&&t(1,n=I.data)},r.$$.update=()=>{r.$$.dirty&2&&t(2,{data:o={},customFormattingSettings:a,__db:s}=n,o),r.$$.dirty&4&&kl.set(Object.keys(o).length>0),r.$$.dirty&32&&l.params,r.$$.dirty&24&&S(w,{noResolve:g})},t(3,g=mt`select
    upper(ticker) as ticker
    , calendar_date
    , strftime(calendar_date, '%b %d') as date_label
    , case when close_vs_yd1_open = 0 then -1 else 1 end as closed_up
    , sum(close_vs_yd1_open) over (partition by ticker) as days_closed_up

from strk.last_14d_performance

where calendar_date > (select min(calendar_date) from strk.last_14d_performance)
    and ticker in (select ticker from strk.unique_tickers where is_dow_30)

order by ticker, calendar_date`),t(4,w=`select
    upper(ticker) as ticker
    , calendar_date
    , strftime(calendar_date, '%b %d') as date_label
    , case when close_vs_yd1_open = 0 then -1 else 1 end as closed_up
    , sum(close_vs_yd1_open) over (partition by ticker) as days_closed_up

from strk.last_14d_performance

where calendar_date > (select min(calendar_date) from strk.last_14d_performance)
    and ticker in (select ticker from strk.unique_tickers where is_dow_30)

order by ticker, calendar_date`),[D,n,o,g,w,l]}class Tr extends me{constructor(e){super(),ge(this,e,mr,hr,he,{data:1})}}export{Tr as component};
